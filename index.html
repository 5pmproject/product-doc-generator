<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œí’ˆ ë¬¸ì„œ ìƒì„± ì‹œìŠ¤í…œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Lato:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Lato', sans-serif;
            background: linear-gradient(135deg, #f5f1ed 0%, #e8e1d9 100%);
            min-height: 100vh;
            padding: 20px;
            color: #4a4237;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: #6b5d52;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            color: #8b7d6b;
            font-size: 1rem;
            font-weight: 300;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.5);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .workflow-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            gap: 10px;
        }

        .workflow-step {
            flex: 1;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: #f5f1ed;
            font-size: 0.85rem;
            color: #8b7d6b;
            transition: all 0.3s ease;
        }

        .workflow-step.active {
            background: #c9b5a0;
            color: #fff;
            font-weight: 600;
        }

        .workflow-step.completed {
            background: #6b9b6b;
            color: #fff;
        }

        .workflow-arrow {
            color: #c9b5a0;
            font-size: 1.2rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e8e1d9;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #c9b5a0 0%, #a89075 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #8b7d6b;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(107, 93, 82, 0.1);
            display: none;
        }

        .form-card.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-number {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            color: #c9b5a0;
            opacity: 0.3;
            margin-bottom: 10px;
        }

        .question-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: #6b5d52;
            margin-bottom: 10px;
        }

        .question-desc {
            color: #8b7d6b;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .input-group {
            margin-bottom: 20px;
        }

        textarea {
            width: 100%;
            padding: 16px;
            border: 2px solid #e8e1d9;
            border-radius: 12px;
            font-family: 'Lato', sans-serif;
            font-size: 1rem;
            color: #4a4237;
            background: #fefdfb;
            resize: vertical;
            min-height: 120px;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            outline: none;
            border-color: #c9b5a0;
        }

        textarea.error {
            border-color: #d4a08a;
        }

        .char-counter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            font-size: 0.85rem;
            color: #8b7d6b;
        }

        .char-count {
            font-weight: 600;
        }

        .char-count.warning {
            color: #d4a08a;
        }

        .example-text {
            background: #f5f1ed;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.85rem;
            color: #8b7d6b;
            margin-top: 12px;
            border-left: 3px solid #c9b5a0;
        }

        .example-label {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-family: 'Lato', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #c9b5a0 0%, #a89075 100%);
            color: #fff;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(168, 144, 117, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #e8e1d9;
            color: #6b5d52;
        }

        .btn-secondary:hover {
            background: #d9d0c5;
        }

        .auto-save-indicator {
            text-align: center;
            color: #8b7d6b;
            font-size: 0.85rem;
            margin-top: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .auto-save-indicator.show {
            opacity: 1;
        }

        .completion-screen {
            display: none;
            text-align: center;
            padding: 60px 40px;
        }

        .completion-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .completion-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .completion-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: #6b5d52;
            margin-bottom: 15px;
        }

        .completion-desc {
            color: #8b7d6b;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* BRD ìƒì„± í™”ë©´ */
        .document-screen {
            display: none;
            padding: 40px;
        }

        .document-screen.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .document-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e8e1d9;
        }

        .document-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: #6b5d52;
        }

        .document-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-generating {
            background: #fff5e6;
            color: #d4a08a;
        }

        .badge-generated {
            background: #e8f5e8;
            color: #6b9b6b;
        }

        .badge-approved {
            background: #c9b5a0;
            color: #fff;
        }

        .generating-animation {
            text-align: center;
            padding: 60px 20px;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid #e8e1d9;
            border-top-color: #c9b5a0;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .generating-text {
            font-size: 1.2rem;
            color: #6b5d52;
            margin-bottom: 10px;
        }

        .generating-subtext {
            color: #8b7d6b;
            font-size: 0.9rem;
        }

        .document-content {
            background: #fefdfb;
            border: 2px solid #e8e1d9;
            border-radius: 12px;
            padding: 40px;
            margin-bottom: 30px;
            min-height: 400px;
            line-height: 1.8;
            font-size: 1rem;
            color: #4a4237;
        }

        .document-content h2 {
            font-family: 'Playfair Display', serif;
            color: #6b5d52;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .document-content h2:first-child {
            margin-top: 0;
        }

        .document-content h3 {
            font-family: 'Playfair Display', serif;
            color: #8b7d6b;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .document-content p {
            margin-bottom: 15px;
        }

        .document-content ul, .document-content ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        .document-content li {
            margin-bottom: 8px;
        }

        .document-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .btn-success {
            background: linear-gradient(135deg, #6b9b6b 0%, #5a8a5a 100%);
            color: #fff;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(107, 155, 107, 0.3);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid #c9b5a0;
            color: #6b5d52;
        }

        .btn-outline:hover {
            background: #c9b5a0;
            color: #fff;
        }

        .error-message {
            background: #ffe5e5;
            border: 2px solid #d4a08a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            color: #8b4a4a;
        }

        .error-message h3 {
            font-family: 'Playfair Display', serif;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .form-card {
                padding: 24px;
            }

            .question-title {
                font-size: 1.5rem;
            }

            .button-group {
                flex-direction: column;
            }

            .document-screen {
                padding: 24px;
            }

            .document-header {
                flex-direction: column;
                gap: 12px;
                align-items: flex-start;
            }

            .document-content {
                padding: 24px;
            }

            .document-actions {
                flex-direction: column;
            }

            .document-actions button {
                width: 100%;
            }

            .workflow-status {
                flex-wrap: wrap;
            }

            .workflow-step {
                font-size: 0.75rem;
                padding: 8px 4px;
            }

            .workflow-arrow {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ì œí’ˆ ë¬¸ì„œ ìƒì„± ì‹œìŠ¤í…œ</h1>
            <p class="subtitle">5ë¶„ë§Œ íˆ¬ìí•˜ë©´ ì „ë¬¸ì ì¸ BRD, PRD, TRDë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤</p>
        </header>

        <div class="progress-container">
            <div class="workflow-status" id="workflowStatus">
                <div class="workflow-step" data-step="input">ì…ë ¥</div>
                <div class="workflow-arrow">â†’</div>
                <div class="workflow-step" data-step="brd">BRD</div>
                <div class="workflow-arrow">â†’</div>
                <div class="workflow-step" data-step="prd">PRD</div>
                <div class="workflow-arrow">â†’</div>
                <div class="workflow-step" data-step="trd">TRD</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="progressText">ì§ˆë¬¸ 1 / 6</span>
                <span id="progressPercent">0% ì™„ë£Œ</span>
            </div>
        </div>

        <!-- Question 1 -->
        <div class="form-card active" data-step="1">
            <div class="question-number">01</div>
            <h2 class="question-title">í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h2>
            <p class="question-desc">ë‹¹ì‹ ì´ ë°œê²¬í•œ ê°€ì¥ ì¤‘ìš”í•œ í†µì°°ì€ ë¬´ì—‡ì¸ê°€ìš”? ì´ ì œí’ˆì´ í•´ê²°í•˜ë ¤ëŠ” í•µì‹¬ ë¬¸ì œë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”.</p>
            
            <div class="input-group">
                <textarea id="insight" maxlength="200" placeholder="ì˜ˆ: í˜„ì¬ ì‹œì¥ì—ì„œ ì‚¬ìš©ìë“¤ì€..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="insightCount">0 / 200ì</span>
                    <span id="insightStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    ì†Œë¹„ìì˜ 80%ê°€ ì œí’ˆ ë¦¬ë·°ë¥¼ ì½ì§€ë§Œ, 70%ê°€ ë¦¬ë·°ì˜ ì‹ ë¢°ì„±ì„ ì˜ì‹¬í•©ë‹ˆë‹¤. ê²€ì¦ëœ êµ¬ë§¤ìì˜ ì‹¤ì œ ê²½í—˜ì„ íš¨ê³¼ì ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.
                </div>
            </div>
        </div>

        <!-- Question 2 -->
        <div class="form-card" data-step="2">
            <div class="question-number">02</div>
            <h2 class="question-title">ê²€ì¦ ê·¼ê±°</h2>
            <p class="question-desc">ì´ ì¸ì‚¬ì´íŠ¸ë¥¼ ë’·ë°›ì¹¨í•˜ëŠ” ë°ì´í„°ë‚˜ ê·¼ê±°ê°€ ìˆë‚˜ìš”? ì‹œì¥ ì¡°ì‚¬, ì‚¬ìš©ì ì¸í„°ë·°, ë°ì´í„° ë¶„ì„ ê²°ê³¼ ë“±ì„ ê³µìœ í•´ì£¼ì„¸ìš”.</p>
            
            <div class="input-group">
                <textarea id="validation" maxlength="150" placeholder="ì˜ˆ: 500ëª… ì‚¬ìš©ì ì¸í„°ë·° ê²°ê³¼..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="validationCount">0 / 150ì</span>
                    <span id="validationStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    3ê°œì›”ê°„ 500ëª… ëŒ€ìƒ ì„¤ë¬¸ ê²°ê³¼, ê°€ì§œ ë¦¬ë·° ë•Œë¬¸ì— êµ¬ë§¤ë¥¼ í¬ê¸°í•œ ê²½í—˜ì´ í‰ê·  3.2íšŒ. A/B í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê²€ì¦ëœ ë¦¬ë·°ëŠ” ì „í™˜ìœ¨ 45% í–¥ìƒ.
                </div>
            </div>
        </div>

        <!-- Question 3 -->
        <div class="form-card" data-step="3">
            <div class="question-number">03</div>
            <h2 class="question-title">íŒ€ ì—­ëŸ‰</h2>
            <p class="question-desc">ì´ í”„ë¡œì íŠ¸ë¥¼ ì„±ê³µì‹œí‚¬ ìˆ˜ ìˆëŠ” íŒ€ì˜ ê°•ì ì€ ë¬´ì—‡ì¸ê°€ìš”? ë³´ìœ í•œ ê¸°ìˆ , ê²½í—˜, ìì›ì„ ì„¤ëª…í•´ì£¼ì„¸ìš”.</p>
            
            <div class="input-group">
                <textarea id="capability" maxlength="150" placeholder="ì˜ˆ: ìš°ë¦¬ íŒ€ì€..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="capabilityCount">0 / 150ì</span>
                    <span id="capabilityStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    AI/ML ì „ë¬¸ê°€ 3ëª…, ì „ììƒê±°ë˜ í”Œë«í¼ ê°œë°œ ê²½í—˜ 5ë…„, ìì—°ì–´ ì²˜ë¦¬ ëª¨ë¸ êµ¬ì¶• ê²½í—˜. ì´ì „ í”„ë¡œì íŠ¸ì—ì„œ 10ë§Œ ì‚¬ìš©ì ê·œëª¨ ì„œë¹„ìŠ¤ ìš´ì˜.
                </div>
            </div>
        </div>

        <!-- Question 4 -->
        <div class="form-card" data-step="4">
            <div class="question-number">04</div>
            <h2 class="question-title">ì ˆëŒ€ ì›ì¹™</h2>
            <p class="question-desc">ì´ ì œí’ˆ ê°œë°œì—ì„œ ì ˆëŒ€ íƒ€í˜‘í•  ìˆ˜ ì—†ëŠ” ì›ì¹™ì´ë‚˜ ê°€ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</p>
            
            <div class="input-group">
                <textarea id="principle" maxlength="100" placeholder="ì˜ˆ: ì‚¬ìš©ì í”„ë¼ì´ë²„ì‹œëŠ”..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="principleCount">0 / 100ì</span>
                    <span id="principleStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    íˆ¬ëª…ì„±ê³¼ ì •ì§í•¨. ëª¨ë“  ë¦¬ë·°ëŠ” ì‹¤ì œ êµ¬ë§¤ìë§Œ ì‘ì„± ê°€ëŠ¥í•˜ë©°, ì¡°ì‘ì´ë‚˜ ê°€ì§œ ë¦¬ë·°ëŠ” ì ˆëŒ€ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                </div>
            </div>
        </div>

        <!-- Question 5 -->
        <div class="form-card" data-step="5">
            <div class="question-number">05</div>
            <h2 class="question-title">ì„±ê³µ ì •ì˜</h2>
            <p class="question-desc">ì´ ì œí’ˆì´ ì„±ê³µí–ˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆëŠ” ê¸°ì¤€ì€ ë¬´ì—‡ì¸ê°€ìš”? êµ¬ì²´ì ì¸ ì§€í‘œë‚˜ ëª©í‘œë¥¼ ì œì‹œí•´ì£¼ì„¸ìš”.</p>
            
            <div class="input-group">
                <textarea id="success" maxlength="100" placeholder="ì˜ˆ: 6ê°œì›” ë‚´..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="successCount">0 / 100ì</span>
                    <span id="successStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    6ê°œì›” ë‚´ ì›”ê°„ í™œì„± ì‚¬ìš©ì 5ë§Œëª…, ë¦¬ë·° ì‹ ë¢°ë„ í‰ê°€ 4.5/5 ì´ìƒ, êµ¬ë§¤ ì „í™˜ìœ¨ ê¸°ì¡´ ëŒ€ë¹„ 30% í–¥ìƒ.
                </div>
            </div>
        </div>

        <!-- Question 6 -->
        <div class="form-card" data-step="6">
            <div class="question-number">06</div>
            <h2 class="question-title">í•µì‹¬ ê¸°ëŠ¥ ì•„ì´ë””ì–´</h2>
            <p class="question-desc">ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥ì´ë‚˜ ì†”ë£¨ì…˜ ì•„ì´ë””ì–´ë¥¼ ê°„ë‹¨íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”.</p>
            
            <div class="input-group">
                <textarea id="feature" maxlength="150" placeholder="ì˜ˆ: AI ê¸°ë°˜..."></textarea>
                <div class="char-counter">
                    <span class="char-count" id="featureCount">0 / 150ì</span>
                    <span id="featureStatus"></span>
                </div>
                <div class="example-text">
                    <div class="example-label">ğŸ’¡ ì˜ˆì‹œ</div>
                    AI ê¸°ë°˜ ë¦¬ë·° ê²€ì¦ ì‹œìŠ¤í…œ: êµ¬ë§¤ ì´ë ¥ í™•ì¸, í…ìŠ¤íŠ¸ ë¶„ì„ìœ¼ë¡œ ê°€ì§œ ë¦¬ë·° íƒì§€, ê²€ì¦ ë°°ì§€ ë¶€ì—¬. ì‚¬ìš©ìëŠ” ì‹ ë¢°ë„ ì ìˆ˜ë¥¼ ì‹¤ì‹œê°„ í™•ì¸ ê°€ëŠ¥.
                </div>
            </div>
        </div>

        <!-- Completion Screen -->
        <div class="form-card completion-screen" id="completionScreen">
            <div class="completion-icon">âœ¨</div>
            <h2 class="completion-title">ì…ë ¥ ì™„ë£Œ!</h2>
            <p class="completion-desc">
                ëª¨ë“  ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ì´ì œ ì „ë¬¸ì ì¸ BRD ë¬¸ì„œë¥¼ ìƒì„±í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.
            </p>
            <button class="btn-primary" onclick="generateDocuments()">ë¬¸ì„œ ìƒì„±í•˜ê¸°</button>
        </div>

        <!-- BRD ìƒì„± í™”ë©´ -->
        <div class="form-card document-screen" id="brdScreen">
            <div class="document-header">
                <h2 class="document-title">Business Requirements Document</h2>
                <span class="document-badge badge-generating" id="brdBadge">ìƒì„± ì¤‘</span>
            </div>

            <!-- ìƒì„± ì¤‘ ì• ë‹ˆë©”ì´ì…˜ -->
            <div class="generating-animation" id="brdGenerating">
                <div class="spinner"></div>
                <div class="generating-text">BRDë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                <div class="generating-subtext">Claude AIê°€ í”„ë¡œì íŠ¸ ë°ì´í„°ë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤</div>
            </div>

            <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
            <div class="error-message" id="brdError" style="display: none;">
                <h3>âš ï¸ ìƒì„± ì˜¤ë¥˜</h3>
                <p id="brdErrorText"></p>
                <button class="btn-primary" onclick="retryBRDGeneration()">ë‹¤ì‹œ ì‹œë„</button>
            </div>

            <!-- ìƒì„±ëœ ë¬¸ì„œ ë‚´ìš© -->
            <div id="brdContentWrapper" style="display: none;">
                <div class="document-content" id="brdContent"></div>
                
                <div class="document-actions">
                    <button class="btn-success" onclick="approveBRD()">âœ“ ìŠ¹ì¸í•˜ê³  PRD ìƒì„±</button>
                    <button class="btn-outline" onclick="regenerateBRD()">â†» ë‹¤ì‹œ ìƒì„±</button>
                    <button class="btn-outline" onclick="copyBRD()">ğŸ“‹ ë³µì‚¬</button>
                    <button class="btn-outline" onclick="exportBRDtoPDF()">ğŸ“„ PDF ë‚´ë³´ë‚´ê¸°</button>
                </div>
            </div>
        </div>

        <!-- PRD ìƒì„± í™”ë©´ -->
        <div class="form-card document-screen" id="prdScreen">
            <div class="document-header">
                <h2 class="document-title">Product Requirements Document</h2>
                <span class="document-badge badge-generating" id="prdBadge">ìƒì„± ì¤‘</span>
            </div>

            <div class="generating-animation" id="prdGenerating">
                <div class="spinner"></div>
                <div class="generating-text">PRDë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                <div class="generating-subtext">BRDë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„¸ ìš”êµ¬ì‚¬í•­ì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤</div>
            </div>

            <div class="error-message" id="prdError" style="display: none;">
                <h3>âš ï¸ ìƒì„± ì˜¤ë¥˜</h3>
                <p id="prdErrorText"></p>
                <button class="btn-primary" onclick="retryPRDGeneration()">ë‹¤ì‹œ ì‹œë„</button>
            </div>

            <div id="prdContentWrapper" style="display: none;">
                <div class="document-content" id="prdContent"></div>
                
                <div class="document-actions">
                    <button class="btn-success" onclick="approvePRD()">âœ“ ìŠ¹ì¸í•˜ê³  TRD ìƒì„±</button>
                    <button class="btn-outline" onclick="regeneratePRD()">â†» ë‹¤ì‹œ ìƒì„±</button>
                    <button class="btn-outline" onclick="copyPRD()">ğŸ“‹ ë³µì‚¬</button>
                    <button class="btn-outline" onclick="exportPRDtoPDF()">ğŸ“„ PDF ë‚´ë³´ë‚´ê¸°</button>
                    <button class="btn-outline" onclick="skipToComplete()">ê±´ë„ˆë›°ê¸°</button>
                </div>
            </div>
        </div>

        <!-- TRD ìƒì„± í™”ë©´ -->
        <div class="form-card document-screen" id="trdScreen">
            <div class="document-header">
                <h2 class="document-title">Technical Requirements Document</h2>
                <span class="document-badge badge-generating" id="trdBadge">ìƒì„± ì¤‘</span>
            </div>

            <div class="generating-animation" id="trdGenerating">
                <div class="spinner"></div>
                <div class="generating-text">TRDë¥¼ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...</div>
                <div class="generating-subtext">ê¸°ìˆ  ìŠ¤í™ê³¼ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„ ì¤‘ì…ë‹ˆë‹¤</div>
            </div>

            <div class="error-message" id="trdError" style="display: none;">
                <h3>âš ï¸ ìƒì„± ì˜¤ë¥˜</h3>
                <p id="trdErrorText"></p>
                <button class="btn-primary" onclick="retryTRDGeneration()">ë‹¤ì‹œ ì‹œë„</button>
            </div>

            <div id="trdContentWrapper" style="display: none;">
                <div class="document-content" id="trdContent"></div>
                
                <div class="document-actions">
                    <button class="btn-success" onclick="completeProject()">âœ“ í”„ë¡œì íŠ¸ ì™„ë£Œ</button>
                    <button class="btn-outline" onclick="regenerateTRD()">â†» ë‹¤ì‹œ ìƒì„±</button>
                    <button class="btn-outline" onclick="copyTRD()">ğŸ“‹ ë³µì‚¬</button>
                    <button class="btn-outline" onclick="exportTRDtoPDF()">ğŸ“„ PDF ë‚´ë³´ë‚´ê¸°</button>
                </div>
            </div>
        </div>

        <!-- ìµœì¢… ì™„ë£Œ í™”ë©´ -->
        <div class="form-card completion-screen" id="finalCompletionScreen">
            <div class="completion-icon">ğŸ‰</div>
            <h2 class="completion-title">ëª¨ë“  ë¬¸ì„œ ìƒì„± ì™„ë£Œ!</h2>
            <p class="completion-desc">
                BRD, PRD, TRDê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ëª¨ë“  ë¬¸ì„œë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
            <div class="document-actions" style="justify-content: center;">
                <button class="btn-primary" onclick="downloadAllDocuments()">ğŸ“¦ ëª¨ë“  ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ</button>
                <button class="btn-outline" onclick="startNewProject()">ğŸ”„ ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘</button>
            </div>
        </div>

        <div class="button-group" id="navigationButtons">
            <button class="btn-secondary" id="prevBtn" onclick="prevStep()" style="display: none;">ì´ì „</button>
            <button class="btn-primary" id="nextBtn" onclick="nextStep()" disabled>ë‹¤ìŒ</button>
        </div>

        <div class="auto-save-indicator" id="autoSaveIndicator">
            ğŸ’¾ ìë™ ì €ì¥ë¨
        </div>
    </div>

    <script>
        // UUID ìƒì„± í•¨ìˆ˜
        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        // í”„ë¡œì íŠ¸ ë°ì´í„° êµ¬ì¡°
        class ProjectData {
            constructor() {
                this.id = generateUUID();
                this.created_at = new Date().toISOString();
                this.updated_at = new Date().toISOString();
                this.status = 'input';
                
                this.user_input = {
                    insight: '',
                    evidence: '',
                    capability: '',
                    principle: '',
                    success_metric: '',
                    core_features: ''
                };
                
                this.documents = {
                    brd: {
                        content: '',
                        status: 'pending',
                        generated_at: null,
                        version: 0
                    },
                    prd: {
                        content: '',
                        status: 'pending',
                        generated_at: null,
                        version: 0
                    },
                    trd: {
                        content: '',
                        status: 'pending',
                        generated_at: null,
                        version: 0
                    }
                };
                
                this.structured_data = {
                    personas: [],
                    features: [],
                    metrics: [],
                    technical_specs: []
                };

                this.history = [];
            }

            // ë°ì´í„° ì—…ë°ì´íŠ¸
            updateUserInput(field, value) {
                this.user_input[field] = value;
                this.updated_at = new Date().toISOString();
                this.addHistory('user_input_updated', { field, value });
                this.save();
            }

            // ìƒíƒœ ë³€ê²½
            updateStatus(newStatus) {
                const oldStatus = this.status;
                this.status = newStatus;
                this.updated_at = new Date().toISOString();
                this.addHistory('status_changed', { from: oldStatus, to: newStatus });
                this.save();
            }

            // ë¬¸ì„œ ìƒì„± ì‹œì‘
            startDocumentGeneration(docType) {
                this.documents[docType].status = 'generating';
                this.updated_at = new Date().toISOString();
                this.addHistory('document_generation_started', { type: docType });
                this.save();
            }

            // ë¬¸ì„œ ìƒì„± ì™„ë£Œ
            completeDocumentGeneration(docType, content) {
                this.documents[docType].content = content;
                this.documents[docType].status = 'generated';
                this.documents[docType].generated_at = new Date().toISOString();
                this.documents[docType].version++;
                this.updated_at = new Date().toISOString();
                this.addHistory('document_generated', { type: docType, version: this.documents[docType].version });
                this.save();
            }

            // ë¬¸ì„œ ìŠ¹ì¸
            approveDocument(docType) {
                this.documents[docType].status = 'approved';
                this.updated_at = new Date().toISOString();
                this.addHistory('document_approved', { type: docType });
                this.save();
            }

            // êµ¬ì¡°í™”ëœ ë°ì´í„° ì¶”ê°€
            addStructuredData(category, data) {
                this.structured_data[category].push({
                    id: generateUUID(),
                    ...data,
                    created_at: new Date().toISOString()
                });
                this.updated_at = new Date().toISOString();
                this.addHistory('structured_data_added', { category, data });
                this.save();
            }

            // íˆìŠ¤í† ë¦¬ ì¶”ê°€
            addHistory(action, details) {
                this.history.push({
                    timestamp: new Date().toISOString(),
                    action,
                    details
                });
            }

            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            save() {
                try {
                    localStorage.setItem('projectData', JSON.stringify(this));
                    localStorage.setItem('projectData_backup_' + Date.now(), JSON.stringify(this));
                    console.log('âœ… í”„ë¡œì íŠ¸ ë°ì´í„° ì €ì¥ ì™„ë£Œ:', this.id);
                    return true;
                } catch (e) {
                    console.error('âŒ ì €ì¥ ì‹¤íŒ¨:', e);
                    return false;
                }
            }

            // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
            static load() {
                try {
                    const saved = localStorage.getItem('projectData');
                    if (saved) {
                        const data = JSON.parse(saved);
                        const project = new ProjectData();
                        Object.assign(project, data);
                        console.log('âœ… í”„ë¡œì íŠ¸ ë°ì´í„° ë¡œë“œ ì™„ë£Œ:', project.id);
                        return project;
                    }
                } catch (e) {
                    console.error('âŒ ë¡œë“œ ì‹¤íŒ¨:', e);
                }
                return new ProjectData();
            }

            // ì§„í–‰ë¥  ê³„ì‚°
            getProgress() {
                const fields = Object.values(this.user_input);
                const completed = fields.filter(v => v && v.trim().length > 0).length;
                return {
                    completed,
                    total: fields.length,
                    percentage: Math.round((completed / fields.length) * 100)
                };
            }

            // ì…ë ¥ ì™„ë£Œ ì—¬ë¶€ í™•ì¸
            isInputComplete() {
                return Object.values(this.user_input).every(v => v && v.trim().length > 0);
            }

            // ë°ì´í„° ë‚´ë³´ë‚´ê¸° (JSON)
            exportJSON() {
                return JSON.stringify(this, null, 2);
            }

            // ë°ì´í„° ìš”ì•½
            getSummary() {
                const progress = this.getProgress();
                return {
                    id: this.id,
                    created: new Date(this.created_at).toLocaleString('ko-KR'),
                    updated: new Date(this.updated_at).toLocaleString('ko-KR'),
                    status: this.status,
                    progress: `${progress.completed}/${progress.total} (${progress.percentage}%)`,
                    documents: {
                        brd: this.documents.brd.status,
                        prd: this.documents.prd.status,
                        trd: this.documents.trd.status
                    }
                };
            }
        }

        // ì „ì—­ í”„ë¡œì íŠ¸ ì¸ìŠ¤í„´ìŠ¤
        let projectData = ProjectData.load();

        // ìƒíƒœ ê´€ë¦¬
        let currentStep = 1;
        const totalSteps = 6;
        
        // í•„ë“œ ë§¤í•‘ (í™”ë©´ ID -> ë°ì´í„° êµ¬ì¡°)
        const fieldMapping = {
            insight: 'insight',
            validation: 'evidence',
            capability: 'capability',
            principle: 'principle',
            success: 'success_metric',
            feature: 'core_features'
        };

        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSavedData() {
            // í”„ë¡œì íŠ¸ ë°ì´í„°ì—ì„œ ì‚¬ìš©ì ì…ë ¥ ë¶ˆëŸ¬ì˜¤ê¸°
            Object.keys(fieldMapping).forEach(fieldId => {
                const dataKey = fieldMapping[fieldId];
                const element = document.getElementById(fieldId);
                if (element && projectData.user_input[dataKey]) {
                    element.value = projectData.user_input[dataKey];
                    updateCharCount(fieldId);
                }
            });

            console.log('ğŸ“Š í”„ë¡œì íŠ¸ ìš”ì•½:', projectData.getSummary());
        }

        // ìë™ ì €ì¥
        function autoSave() {
            const saved = projectData.save();
            if (saved) {
                showAutoSaveIndicator();
            }
        }

        function showAutoSaveIndicator() {
            const indicator = document.getElementById('autoSaveIndicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        // ê¸€ììˆ˜ ì¹´ìš´í„° ì—…ë°ì´íŠ¸
        function updateCharCount(fieldId) {
            console.log('ğŸš€ updateCharCount ì‹œì‘:', fieldId);
            
            const textarea = document.getElementById(fieldId);
            const counter = document.getElementById(fieldId + 'Count');
            const status = document.getElementById(fieldId + 'Status');
            
            if (!textarea) {
                console.error('âŒ textareaë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', fieldId);
                return;
            }
            
            const maxLength = textarea.maxLength;
            const currentLength = textarea.value.length;
            
            console.log('ğŸ” updateCharCount ë””ë²„ê¹…:', {
                fieldId,
                currentLength,
                maxLength,
                currentStep,
                textareaValue: textarea.value
            });
            
            if (counter) {
                counter.textContent = `${currentLength} / ${maxLength}ì`;
                
                if (currentLength > maxLength * 0.9) {
                    counter.classList.add('warning');
                } else {
                    counter.classList.remove('warning');
                }
            }

            // ìœ íš¨ì„± ê²€ì‚¬
            if (status) {
                if (currentLength > 0) {
                    status.textContent = 'âœ“';
                    status.style.color = '#a89075';
                    textarea.classList.remove('error');
                } else {
                    status.textContent = '';
                    textarea.classList.add('error');
                }
            }

            // í”„ë¡œì íŠ¸ ë°ì´í„°ì— ì €ì¥
            const dataKey = fieldMapping[fieldId];
            if (dataKey) {
                projectData.updateUserInput(dataKey, textarea.value);
            }

            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
            console.log('ğŸ”„ updateNextButton í˜¸ì¶œ');
            updateNextButton();
        }

        // ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateNextButton() {
            console.log('ğŸš€ updateNextButton ì‹œì‘');
            
            const nextBtn = document.getElementById('nextBtn');
            const currentFieldId = getCurrentFieldId();
            const textarea = document.getElementById(currentFieldId);
            
            if (!nextBtn) {
                console.error('âŒ nextBtn ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            if (!textarea) {
                console.error('âŒ textarea ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', currentFieldId);
                return;
            }
            
            const currentValue = textarea.value || '';
            const hasContent = currentValue.trim().length > 0;
            
            console.log('ğŸ” updateNextButton ë””ë²„ê¹…:', {
                currentStep,
                currentFieldId,
                currentValue: currentValue,
                hasContent: hasContent,
                nextBtnDisabled: nextBtn.disabled
            });
            
            if (hasContent) {
                nextBtn.disabled = false;
                nextBtn.style.opacity = '1';
                nextBtn.style.cursor = 'pointer';
                console.log('âœ… ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”');
            } else {
                nextBtn.disabled = true;
                nextBtn.style.opacity = '0.5';
                nextBtn.style.cursor = 'not-allowed';
                console.log('âŒ ë‹¤ìŒ ë²„íŠ¼ ë¹„í™œì„±í™”');
            }
        }

        // í˜„ì¬ í•„ë“œ ID ê°€ì ¸ì˜¤ê¸°
        function getCurrentFieldId() {
            const fields = ['insight', 'validation', 'capability', 'principle', 'success', 'feature'];
            const fieldId = fields[currentStep - 1];
            console.log('ğŸ” getCurrentFieldId:', {
                currentStep,
                fields,
                fieldId,
                arrayLength: fields.length
            });
            return fieldId;
        }

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const progress = projectData.getProgress();
            const displayProgress = ((currentStep - 1) / totalSteps) * 100;
            
            document.getElementById('progressFill').style.width = displayProgress + '%';
            document.getElementById('progressText').textContent = `ì§ˆë¬¸ ${currentStep} / ${totalSteps}`;
            document.getElementById('progressPercent').textContent = `${progress.percentage}% ì™„ë£Œ`;
        }

        // ë‹¤ìŒ ë‹¨ê³„
        function nextStep() {
            if (currentStep < totalSteps) {
                // í˜„ì¬ ì¹´ë“œ ìˆ¨ê¸°ê¸°
                document.querySelector(`.form-card[data-step="${currentStep}"]`).classList.remove('active');
                
                currentStep++;
                
                // ë‹¤ìŒ ì¹´ë“œ ë³´ì´ê¸°
                document.querySelector(`.form-card[data-step="${currentStep}"]`).classList.add('active');
                
                updateProgress();
                updateNextButton();
                
                // ë²„íŠ¼ í‘œì‹œ ì¡°ì •
                document.getElementById('prevBtn').style.display = 'block';
                
                if (currentStep === totalSteps) {
                    document.getElementById('nextBtn').textContent = 'ì™„ë£Œ';
                }
                
                // ìŠ¤í¬ë¡¤ ë§¨ ìœ„ë¡œ
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                showCompletion();
            }
        }

        // ì´ì „ ë‹¨ê³„
        function prevStep() {
            if (currentStep > 1) {
                document.querySelector(`.form-card[data-step="${currentStep}"]`).classList.remove('active');
                
                currentStep--;
                
                document.querySelector(`.form-card[data-step="${currentStep}"]`).classList.add('active');
                
                updateProgress();
                updateNextButton();
                
                if (currentStep === 1) {
                    document.getElementById('prevBtn').style.display = 'none';
                }
                
                document.getElementById('nextBtn').textContent = 'ë‹¤ìŒ';
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // ì™„ë£Œ í™”ë©´ í‘œì‹œ
        function showCompletion() {
            document.querySelector(`.form-card[data-step="${currentStep}"]`).classList.remove('active');
            document.getElementById('completionScreen').classList.add('active');
            document.getElementById('navigationButtons').style.display = 'none';
            
            // ìƒíƒœ ì—…ë°ì´íŠ¸
            projectData.updateStatus('input_completed');
            
            // ì§„í–‰ë¥  100%
            document.getElementById('progressFill').style.width = '100%';
            document.getElementById('progressText').textContent = 'ì™„ë£Œ!';
            document.getElementById('progressPercent').textContent = '100% ì™„ë£Œ';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });

            console.log('ğŸ‰ ì…ë ¥ ì™„ë£Œ! í”„ë¡œì íŠ¸ ë°ì´í„°:', projectData.getSummary());
        }

        // ë¬¸ì„œ ìƒì„± (ë‹¤ìŒ ë‹¨ê³„ë¡œ ì—°ê²°ë  í•¨ìˆ˜)
        function generateDocuments() {
            startBRDGeneration();
        }

        // ì›Œí¬í”Œë¡œìš° ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateWorkflowStatus(currentStage) {
            const stages = ['input', 'brd', 'prd', 'trd'];
            const stageElements = document.querySelectorAll('.workflow-step');
            
            stages.forEach((stage, index) => {
                const element = document.querySelector(`.workflow-step[data-step="${stage}"]`);
                
                if (stage === currentStage) {
                    element.classList.add('active');
                    element.classList.remove('completed');
                } else if (stages.indexOf(currentStage) > index) {
                    element.classList.add('completed');
                    element.classList.remove('active');
                } else {
                    element.classList.remove('active', 'completed');
                }
            });
        }

        // BRD ìƒì„± ì‹œì‘
        async function startBRDGeneration() {
            // í™”ë©´ ì „í™˜
            document.getElementById('completionScreen').classList.remove('active');
            document.getElementById('brdScreen').classList.add('active');
            document.getElementById('navigationButtons').style.display = 'none';
            
            // ìƒíƒœ ì—…ë°ì´íŠ¸
            projectData.updateStatus('brd_generating');
            projectData.startDocumentGeneration('brd');
            updateWorkflowStatus('brd');
            
            // ìƒì„± ì‹œì‘
            await generateBRD();
        }

        // ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜ í•¨ìˆ˜ (ë¨¼ì € ì •ì˜)
        function convertMarkdownToHTML(markdown) {
            let html = markdown;
            
            // í—¤ë”©
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');
            
            // ë³¼ë“œ
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // ì´íƒ¤ë¦­
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            
            // ë¦¬ìŠ¤íŠ¸
            html = html.replace(/^\- (.*$)/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            
            // ì¤„ë°”ê¿ˆ
            html = html.replace(/\n\n/g, '</p><p>');
            html = '<p>' + html + '</p>';
            
            return html;
        }

        // BRD í‘œì‹œ í•¨ìˆ˜ (ë¨¼ì € ì •ì˜)
        function displayBRD(content) {
            document.getElementById('brdGenerating').style.display = 'none';
            document.getElementById('brdContentWrapper').style.display = 'block';
            document.getElementById('brdContent').innerHTML = convertMarkdownToHTML(content);
            document.getElementById('brdBadge').textContent = 'ìƒì„± ì™„ë£Œ';
            document.getElementById('brdBadge').className = 'document-badge badge-generated';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // BRD ì˜¤ë¥˜ í‘œì‹œ í•¨ìˆ˜ (ë¨¼ì € ì •ì˜)
        function showBRDError(errorMessage) {
            document.getElementById('brdGenerating').style.display = 'none';
            document.getElementById('brdError').style.display = 'block';
            document.getElementById('brdErrorText').textContent = errorMessage;
        }

        // BRD ìƒì„± API í˜¸ì¶œ (AI í”„ë¡¬í”„íŠ¸ ê¸°ë°˜)
        async function generateBRD() {
            try {
                // AI í”„ë¡¬í”„íŠ¸ ìƒì„±
                const prompt = createBRDPrompt();
                
                // ì‹¤ì œ AI API í˜¸ì¶œ (í˜„ì¬ëŠ” ë°ëª¨ ëª¨ë“œ)
                const brdContent = await callAIAPI(prompt, 'BRD');

                // BRD ì €ì¥ ë° í‘œì‹œ
                projectData.completeDocumentGeneration('brd', brdContent);
                displayBRD(brdContent);

            } catch (error) {
                console.error('BRD ìƒì„± ì˜¤ë¥˜:', error);
                showBRDError(error.message);
            }
        }

        // BRD í”„ë¡¬í”„íŠ¸ ìƒì„±
        function createBRDPrompt() {
            const input = projectData.user_input;
            return `ë‹¹ì‹ ì€ ì œí’ˆ ì „ëµ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë‹¤ìŒ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì „ë¬¸ì ì¸ Business Requirements Document(BRD)ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

**ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°:**

**í•µì‹¬ ì¸ì‚¬ì´íŠ¸:**
${input.insight}

**ê²€ì¦ ê·¼ê±°:**
${input.evidence}

**íŒ€ ì—­ëŸ‰:**
${input.capability}

**ì ˆëŒ€ ì›ì¹™:**
${input.principle}

**ì„±ê³µ ì •ì˜:**
${input.success_metric}

**í•µì‹¬ ê¸°ëŠ¥ ì•„ì´ë””ì–´:**
${input.core_features}

---

**BRD ì‘ì„± ê°€ì´ë“œë¼ì¸:**

ë‹¤ìŒ êµ¬ì¡°ë¡œ ì „ë¬¸ì ì´ê³  ìƒì„¸í•œ BRDë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”:

## 1. Executive Summary
- í”„ë¡œì íŠ¸ ê°œìš” (2-3 ë¬¸ë‹¨)
- í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜
- ì˜ˆìƒ ROI ë° ì˜í–¥

## 2. Business Objectives
- êµ¬ì²´ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ (3-5ê°œ)
- ê° ëª©í‘œì˜ ì¸¡ì • ê°€ëŠ¥í•œ ì§€í‘œ
- ëª©í‘œ ë‹¬ì„± íƒ€ì„ë¼ì¸

## 3. Market Analysis
- ì‹œì¥ ê¸°íšŒ ë¶„ì„
- íƒ€ê²Ÿ ê³ ê° í˜ë¥´ì†Œë‚˜
- ê²½ìŸì‚¬ ë¶„ì„

## 4. Problem Statement
- í•´ê²°í•˜ë ¤ëŠ” í•µì‹¬ ë¬¸ì œ
- ë¬¸ì œì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥
- í˜„ì¬ ìƒí™© (As-Is)

## 5. Proposed Solution
- ì†”ë£¨ì…˜ ê°œìš”
- í•µì‹¬ ê¸°ëŠ¥ ë° ê°€ì¹˜ ì œì•ˆ
- ê¸°ëŒ€ë˜ëŠ” ê²°ê³¼ (To-Be)

## 6. Success Criteria
- ì •ëŸ‰ì  KPI (3-5ê°œ)
- ì •ì„±ì  ì„±ê³µ ì§€í‘œ
- ì¸¡ì • ë°©ë²•

## 7. Stakeholders
- ì£¼ìš” ì´í•´ê´€ê³„ì
- ê° ì´í•´ê´€ê³„ìì˜ ì—­í• 
- ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤

## 8. Constraints & Risks
- ì œì•½ ì‚¬í•­ (ì‹œê°„, ì˜ˆì‚°, ê¸°ìˆ , ë¦¬ì†ŒìŠ¤)
- ì£¼ìš” ë¦¬ìŠ¤í¬ ë° ì™„í™” ë°©ì•ˆ
- ì˜ì¡´ì„±

## 9. Timeline & Milestones
- ì£¼ìš” ë§ˆì¼ìŠ¤í†¤
- ë‹¨ê³„ë³„ ì¼ì •
- ì¶œì‹œ ê³„íš

## 10. Budget & Resources
- ì˜ˆì‚° ì¶”ì •
- í•„ìš” ë¦¬ì†ŒìŠ¤
- íˆ¬ì ëŒ€ë¹„ ê¸°ëŒ€ íš¨ê³¼

**ì¤‘ìš”:**
- ê° ì„¹ì…˜ì€ êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤
- ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ì™€ ROIë¥¼ ëª…í™•íˆ ì œì‹œí•˜ì„¸ìš”
- ë°ì´í„° ê¸°ë°˜ì˜ ì˜ì‚¬ê²°ì •ì„ ê°•ì¡°í•˜ì„¸ìš”
- ì „ë¬¸ì ì´ê³  ì„¤ë“ë ¥ ìˆëŠ” ë¬¸ì²´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
- ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”`;
        }

        // AI API í˜¸ì¶œ í•¨ìˆ˜ (ë°ëª¨ ëª¨ë“œ ìš°ì„ )
        async function callAIAPI(prompt, docType) {
            try {
                console.log(`ğŸ¤– ${docType} AI API í˜¸ì¶œ ì‹œì‘`);
                
                // ë°ëª¨ ëª¨ë“œë¡œ ì‹¤í–‰ (ì•ˆì •ì„± í™•ë³´)
                console.log(`ğŸ­ ${docType} ë°ëª¨ ëª¨ë“œë¡œ ì‹¤í–‰`);
                return await runDemoMode(prompt, docType);
                
            } catch (error) {
                console.error(`${docType} AI API í˜¸ì¶œ ì˜¤ë¥˜:`, error);
                return await runDemoMode(prompt, docType);
            }
        }
        
        // ë°ëª¨ ëª¨ë“œ ì‹¤í–‰ í•¨ìˆ˜
        async function runDemoMode(prompt, docType) {
            console.log(`ğŸ¤– ${docType} AI í”„ë¡¬í”„íŠ¸ ìƒì„±ë¨:`, prompt.substring(0, 200) + '...');
            
            // 2-3ì´ˆ ëŒ€ê¸° (ë¡œë”© íš¨ê³¼)
            await new Promise(resolve => setTimeout(resolve, 2000 + Math.random() * 1000));
            
            // ë°ëª¨ ì‘ë‹µ ìƒì„±
            const demoContent = generateDemoResponse(docType, prompt);
            console.log(`ğŸ­ ${docType} ë°ëª¨ ìƒì„± ì™„ë£Œ`);
            return demoContent;
        }

        // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ í—¬í¼ í•¨ìˆ˜ë“¤
        function generateUserPersonas(input) {
            const personas = [
                {
                    name: 'ì£¼ë‹ˆì–´ ë§¤ë‹ˆì €',
                    age: '25-35ì„¸',
                    role: 'ì¤‘ê°„ ê´€ë¦¬ì',
                    pain: 'ë°ì´í„° ë¶„ì„ ì‹œê°„ ë¶€ì¡±',
                    goal: 'íš¨ìœ¨ì ì¸ ì˜ì‚¬ê²°ì •'
                },
                {
                    name: 'ì‹œë‹ˆì–´ ì„ì›',
                    age: '40-50ì„¸',
                    role: 'ê²½ì˜ì§„',
                    pain: 'ì „ëµì  ì¸ì‚¬ì´íŠ¸ ë¶€ì¡±',
                    goal: 'ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼ í–¥ìƒ'
                },
                {
                    name: 'ê°œë°œì',
                    age: '25-40ì„¸',
                    role: 'ê¸°ìˆ ì§„',
                    pain: 'ë³µì¡í•œ ë„êµ¬ ì‚¬ìš©',
                    goal: 'ê°„í¸í•œ ë°ì´í„° ì²˜ë¦¬'
                }
            ];
            
            const selectedPersonas = personas.slice(0, Math.floor(Math.random() * 2) + 2);
            
            return `**ì£¼ìš” í˜ë¥´ì†Œë‚˜:**
${selectedPersonas.map((persona, index) => `
**${persona.name} (${persona.age})**
- **ì—­í• **: ${persona.role}
- **í˜ì¸ í¬ì¸íŠ¸**: ${persona.pain}
- **ëª©í‘œ**: ${persona.goal}
- **ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤**: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'} í•´ê²°ì„ ìœ„í•´ ${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'} í™œìš©
- **ê¸°ëŒ€ íš¨ê³¼**: ì‘ì—… íš¨ìœ¨ì„± ${Math.floor(Math.random() * 30) + 20}% í–¥ìƒ
`).join('')}

**ê³µí†µ ë‹ˆì¦ˆ:**
- ì§ê´€ì ì¸ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- ë¹ ë¥¸ ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„
- ëª¨ë°”ì¼ ì ‘ê·¼ì„±
- ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥`;
        }

        function generateFeatureAnalysis(input) {
            const features = [
                { name: 'í•µì‹¬ ê¸°ëŠ¥', priority: 'P0', effort: 'High', impact: 'High' },
                { name: 'ì‚¬ìš©ì ì¸ì¦', priority: 'P0', effort: 'Medium', impact: 'High' },
                { name: 'ë°ì´í„° ì‹œê°í™”', priority: 'P1', effort: 'High', impact: 'Medium' },
                { name: 'ì•Œë¦¼ ì‹œìŠ¤í…œ', priority: 'P1', effort: 'Medium', impact: 'Medium' },
                { name: 'ë³´ê³ ì„œ ìƒì„±', priority: 'P2', effort: 'Low', impact: 'Low' }
            ];
            
            return `**ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë¶„ì„:**
${features.map(feature => `
**${feature.name}**
- **ìš°ì„ ìˆœìœ„**: ${feature.priority}
- **ê°œë°œ ê³µìˆ˜**: ${feature.effort}
- **ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸**: ${feature.impact}
- **ì‚¬ìš©ì ìŠ¤í† ë¦¬**: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'} í•´ê²°ì„ ìœ„í•´ ${feature.name} ê¸°ëŠ¥ì´ í•„ìš”
- **ì¸ìˆ˜ ê¸°ì¤€**: ê¸°ëŠ¥ë³„ êµ¬ì²´ì  ê²€ì¦ ì¡°ê±´
- **ì˜ì¡´ì„±**: ${feature.priority === 'P0' ? 'ì—†ìŒ' : 'í•µì‹¬ ê¸°ëŠ¥ ì™„ë£Œ í›„'}
`).join('')}

**ê¸°ëŠ¥ ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤:**
- **P0 (Must Have)**: í•µì‹¬ ê¸°ëŠ¥, ì‚¬ìš©ì ì¸ì¦
- **P1 (Should Have)**: ë°ì´í„° ì‹œê°í™”, ì•Œë¦¼ ì‹œìŠ¤í…œ  
- **P2 (Could Have)**: ë³´ê³ ì„œ ìƒì„±, ê³ ê¸‰ ë¶„ì„

**ê¸°ìˆ ì  ë³µì¡ë„:**
- **High**: AI/ML ê¸°ë°˜ ë¶„ì„ ê¸°ëŠ¥
- **Medium**: ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬
- **Low**: ê¸°ë³¸ CRUD ê¸°ëŠ¥`;
        }

        function generateUserStories(input) {
            const epics = [
                {
                    name: 'ì‚¬ìš©ì ì¸ì¦',
                    stories: [
                        'ì†Œì…œ ë¡œê·¸ì¸ìœ¼ë¡œ ê°„í¸ ê°€ì…',
                        'ì´ë©”ì¼ ì¸ì¦ìœ¼ë¡œ ê³„ì • ë³´ì•ˆ',
                        'ê¶Œí•œë³„ ì ‘ê·¼ ì œì–´'
                    ]
                },
                {
                    name: 'ë°ì´í„° ë¶„ì„',
                    stories: [
                        'ì‹¤ì‹œê°„ ë°ì´í„° ì‹œê°í™”',
                        'ì»¤ìŠ¤í…€ ëŒ€ì‹œë³´ë“œ ìƒì„±',
                        'ìë™ ì¸ì‚¬ì´íŠ¸ ì¶”ì²œ'
                    ]
                },
                {
                    name: 'í˜‘ì—… ê¸°ëŠ¥',
                    stories: [
                        'íŒ€ì›ê³¼ ë°ì´í„° ê³µìœ ',
                        'ì‹¤ì‹œê°„ ëŒ“ê¸€ ë° í”¼ë“œë°±',
                        'ë²„ì „ ê´€ë¦¬ ë° íˆìŠ¤í† ë¦¬'
                    ]
                }
            ];
            
            return `**Epicë³„ ì‚¬ìš©ì ìŠ¤í† ë¦¬:**
${epics.map(epic => `
**${epic.name} Epic:**
${epic.stories.map((story, index) => `
- **Story ${index + 1}**: ${story}
  - ìŠ¤í† ë¦¬ í¬ì¸íŠ¸: ${Math.floor(Math.random() * 5) + 3}
  - Definition of Done: ê¸°ëŠ¥ êµ¬í˜„, í…ŒìŠ¤íŠ¸ ì™„ë£Œ, ë¬¸ì„œí™”
`).join('')}
`).join('')}

**ì „ì²´ ìŠ¤í† ë¦¬ í¬ì¸íŠ¸**: ${Math.floor(Math.random() * 50) + 100} í¬ì¸íŠ¸
**ì˜ˆìƒ ê°œë°œ ê¸°ê°„**: ${Math.floor(Math.random() * 6) + 3}ê°œì›”
**íŒ€ êµ¬ì„±**: ê°œë°œì 3ëª…, ë””ìì´ë„ˆ 1ëª…, PM 1ëª…`;
        }

        function generateSystemArchitecture(input) {
            const architecture = [
                'ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜',
                'ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜',
                'CQRS íŒ¨í„´',
                'ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„'
            ];
            
            const selectedArch = architecture[Math.floor(Math.random() * architecture.length)];
            
            return `**ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜:**
- **ì•„í‚¤í…ì²˜ íŒ¨í„´**: ${selectedArch}
- **í†µì‹  ë°©ì‹**: REST API + Message Queue
- **ë°ì´í„° íë¦„**: Event Sourcing + CQRS
- **ì„œë¹„ìŠ¤ ë¶„ë¦¬**: ë„ë©”ì¸ë³„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤

**ì£¼ìš” ì»´í¬ë„ŒíŠ¸:**
- **API Gateway**: Kong ê¸°ë°˜ ë¼ìš°íŒ… ë° ì¸ì¦
- **ì¸ì¦ ì„œë¹„ìŠ¤**: OAuth 2.0 + JWT í† í° ê´€ë¦¬
- **ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤**: ${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'} ì²˜ë¦¬
- **ë¶„ì„ ì„œë¹„ìŠ¤**: ì‹¤ì‹œê°„ ë°ì´í„° ì²˜ë¦¬ ë° ML ëª¨ë¸
- **ì•Œë¦¼ ì„œë¹„ìŠ¤**: ì´ë©”ì¼, SMS, í‘¸ì‹œ ì•Œë¦¼

**ë°ì´í„° í”Œë¡œìš°:**
1. **ìˆ˜ì§‘**: ì‚¬ìš©ì ìš”ì²­ â†’ API Gateway â†’ ì¸ì¦ ì„œë¹„ìŠ¤
2. **ì²˜ë¦¬**: ë¹„ì¦ˆë‹ˆìŠ¤ ì„œë¹„ìŠ¤ â†’ ë°ì´í„°ë² ì´ìŠ¤ â†’ ìºì‹œ
3. **ë¶„ì„**: ë¶„ì„ ì„œë¹„ìŠ¤ â†’ ML ëª¨ë¸ â†’ ì¸ì‚¬ì´íŠ¸ ìƒì„±
4. **ì•Œë¦¼**: ê²°ê³¼ â†’ ì•Œë¦¼ ì„œë¹„ìŠ¤ â†’ ì‚¬ìš©ì ì „ë‹¬

**ì¸í”„ë¼ êµ¬ì„±:**
- **ë¡œë“œ ë°¸ëŸ°ì„œ**: Nginx + HAProxy
- **ì»¨í…Œì´ë„ˆ**: Docker + Kubernetes
- **ëª¨ë‹ˆí„°ë§**: Prometheus + Grafana + ELK Stack
- **ë¡œê·¸**: Fluentd + Elasticsearch + Kibana`;
        }

        function generateTechnologyStack(input) {
            const techStacks = [
                {
                    frontend: ['React.js', 'TypeScript', 'Material-UI', 'Redux'],
                    backend: ['Node.js', 'Express', 'TypeScript', 'NestJS'],
                    database: ['PostgreSQL', 'Redis', 'MongoDB'],
                    infrastructure: ['AWS', 'Docker', 'Kubernetes', 'Terraform']
                },
                {
                    frontend: ['Vue.js', 'TypeScript', 'Vuetify', 'Vuex'],
                    backend: ['Python', 'FastAPI', 'Django', 'Celery'],
                    database: ['PostgreSQL', 'Redis', 'Elasticsearch'],
                    infrastructure: ['GCP', 'Docker', 'Kubernetes', 'Helm']
                },
                {
                    frontend: ['Angular', 'TypeScript', 'Angular Material', 'NgRx'],
                    backend: ['Java', 'Spring Boot', 'Spring Security', 'Kafka'],
                    database: ['MySQL', 'Redis', 'Cassandra'],
                    infrastructure: ['Azure', 'Docker', 'AKS', 'ARM Templates']
                }
            ];
            
            const selectedStack = techStacks[Math.floor(Math.random() * techStacks.length)];
            
            return `**ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ ê¸°ì¤€:**
${input.capability ? `- íŒ€ ì—­ëŸ‰: ${input.capability}` : '- íŒ€ ì—­ëŸ‰ ê¸°ë°˜ ê¸°ìˆ  ì„ íƒ'}
- **ì„±ëŠ¥**: ê³ ì„±ëŠ¥ ë° í™•ì¥ì„± ê³ ë ¤
- **ìœ ì§€ë³´ìˆ˜ì„±**: ì¥ê¸°ì  ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±
- **ìƒíƒœê³„**: í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹° ë° ë¬¸ì„œí™”
- **í•™ìŠµ ê³¡ì„ **: íŒ€ í•™ìŠµ ë¹„ìš© ìµœì†Œí™”

**ì„ íƒëœ ê¸°ìˆ  ìŠ¤íƒ:**
- **Frontend**: ${selectedStack.frontend.join(', ')}
- **Backend**: ${selectedStack.backend.join(', ')}
- **Database**: ${selectedStack.database.join(', ')}
- **Infrastructure**: ${selectedStack.infrastructure.join(', ')}

**ê¸°ìˆ  ì„ íƒ ì´ìœ :**
- **Frontend**: ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì¬ì‚¬ìš©ì„±, íƒ€ì… ì•ˆì •ì„±
- **Backend**: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'} í•´ê²°ì— ìµœì í™”ëœ í”„ë ˆì„ì›Œí¬
- **Database**: ACID íŠ¹ì„±ê³¼ NoSQL ì¥ì  ê²°í•©
- **Infrastructure**: í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì„¤ê³„ ì›ì¹™

**ëŒ€ì•ˆ ê¸°ìˆ :**
- **Frontend ëŒ€ì•ˆ**: Svelte, Solid.js (ì„±ëŠ¥ ìš°ì„ )
- **Backend ëŒ€ì•ˆ**: Go, Rust (ê³ ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­)
- **Database ëŒ€ì•ˆ**: ClickHouse (ë¶„ì„ íŠ¹í™”), TimescaleDB (ì‹œê³„ì—´)
- **Infrastructure ëŒ€ì•ˆ**: Serverless (Lambda, Cloud Functions)`;
        }

        function generateDataArchitecture(input) {
            const dataVolume = Math.floor(Math.random() * 1000) + 100; // 100-1100TB
            const userCount = Math.floor(Math.random() * 100000) + 10000; // 1ë§Œ-11ë§Œëª…
            
            return `**ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„:**
- **ì£¼ ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL (ACID íŠ¸ëœì­ì…˜)
- **ìºì‹œ**: Redis (ì„¸ì…˜, ì„ì‹œ ë°ì´í„°)
- **ë¶„ì„ DB**: ClickHouse (ëŒ€ìš©ëŸ‰ ë¶„ì„)
- **ê²€ìƒ‰**: Elasticsearch (ì „ë¬¸ ê²€ìƒ‰)

**ë°ì´í„° ëª¨ë¸ë§:**
- **ì‚¬ìš©ì ë°ì´í„°**: í”„ë¡œí•„, ê¶Œí•œ, ì„¤ì • (ì •ê·œí™”)
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°**: ${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'} ê´€ë ¨ (ì •ê·œí™”)
- **ë¶„ì„ ë°ì´í„°**: ì´ë²¤íŠ¸, ë¡œê·¸, ë©”íŠ¸ë¦­ (ë¹„ì •ê·œí™”)
- **ì‹œìŠ¤í…œ ë°ì´í„°**: ê°ì‚¬, ë°±ì—…, ë©”íƒ€ë°ì´í„°

**ë°ì´í„° í”Œë¡œìš°:**
1. **ìˆ˜ì§‘**: API â†’ ê²€ì¦ â†’ ì •ê·œí™” â†’ ì €ì¥
2. **ì²˜ë¦¬**: ETL íŒŒì´í”„ë¼ì¸ â†’ ë³€í™˜ â†’ ì§‘ê³„
3. **ë¶„ì„**: ML íŒŒì´í”„ë¼ì¸ â†’ ëª¨ë¸ í•™ìŠµ â†’ ì˜ˆì¸¡
4. **ì‹œê°í™”**: ëŒ€ì‹œë³´ë“œ â†’ ì‹¤ì‹œê°„ ì°¨íŠ¸ â†’ ì•Œë¦¼

**ì„±ëŠ¥ ìµœì í™”:**
- **ì¸ë±ì‹±**: ë³µí•© ì¸ë±ìŠ¤, ë¶€ë¶„ ì¸ë±ìŠ¤ í™œìš©
- **íŒŒí‹°ì…”ë‹**: ë‚ ì§œë³„, ì§€ì—­ë³„ ìˆ˜í‰ ë¶„í• 
- **ìƒ¤ë”©**: ì‚¬ìš©ì ID ê¸°ë°˜ ìˆ˜í‰ ë¶„í• 
- **ìºì‹±**: Redis í´ëŸ¬ìŠ¤í„° ê¸°ë°˜ ë‹¤ì¸µ ìºì‹±

**ë°ì´í„° ë³´ì•ˆ:**
- **ì•”í˜¸í™”**: AES-256 ì»¬ëŸ¼ ë ˆë²¨ ì•”í˜¸í™”
- **ì ‘ê·¼ ì œì–´**: RBAC ê¸°ë°˜ ì„¸ë°€í•œ ê¶Œí•œ ê´€ë¦¬
- **ê°ì‚¬**: ëª¨ë“  ë°ì´í„° ë³€ê²½ ì´ë ¥ ì¶”ì 
- **ë°±ì—…**: ì¼ì¼ ì „ì²´ + ì‹¤ì‹œê°„ ì¦ë¶„ ë°±ì—…

**ì˜ˆìƒ ë°ì´í„° ê·œëª¨:**
- **ì´ ë°ì´í„°ëŸ‰**: ${dataVolume}TB (3ë…„ ì˜ˆìƒ)
- **ì‚¬ìš©ì ìˆ˜**: ${userCount}ëª…
- **ì¼ì¼ íŠ¸ëœì­ì…˜**: ${Math.floor(Math.random() * 1000000) + 100000}ê±´
- **ë°ì´í„° ì¦ê°€ìœ¨**: ì›” ${Math.floor(Math.random() * 20) + 10}%`;
        }

        function generateSecurityFramework(input) {
            const securityLevel = ['High', 'Medium', 'Low'][Math.floor(Math.random() * 3)];
            
            return `**ë³´ì•ˆ ìš”êµ¬ì‚¬í•­:**
${input.principle ? `- ${input.principle} ì¤€ìˆ˜` : '- ì‚¬ìš©ì ì •ì˜ ë³´ì•ˆ ì›ì¹™'}
- **ë³´ì•ˆ ë“±ê¸‰**: ${securityLevel} (ì—…ê³„ í‘œì¤€)
- **ê·œì • ì¤€ìˆ˜**: GDPR, ê°œì¸ì •ë³´ë³´í˜¸ë²•, ISO 27001
- **ë°ì´í„° ë¶„ë¥˜**: ê³µê°œ, ë‚´ë¶€, ê¸°ë°€, ê·¹ë¹„

**ì¸ì¦ ë° ê¶Œí•œ:**
- **ë‹¤ì¤‘ ì¸ì¦**: MFA (SMS, TOTP, ìƒì²´ì¸ì¦)
- **OAuth 2.0**: ì†Œì…œ ë¡œê·¸ì¸ (Google, GitHub, Microsoft)
- **JWT í† í°**: ì•¡ì„¸ìŠ¤ í† í° (15ë¶„) + ë¦¬í”„ë ˆì‹œ í† í° (7ì¼)
- **RBAC**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (Admin, User, Guest)

**ì•”í˜¸í™” ì „ëµ:**
- **ì „ì†¡ ì•”í˜¸í™”**: TLS 1.3, HSTS ê°•ì œ
- **ì €ì¥ ì•”í˜¸í™”**: AES-256-GCM ì»¬ëŸ¼ ë ˆë²¨ ì•”í˜¸í™”
- **í‚¤ ê´€ë¦¬**: AWS KMS, HashiCorp Vault
- **í•´ì‹±**: bcrypt (ë¹„ë°€ë²ˆí˜¸), SHA-256 (íŒŒì¼)

**ë³´ì•ˆ ëª¨ë‹ˆí„°ë§:**
- **ì¹¨ì… íƒì§€**: WAF, DDoS ë°©ì–´, ë´‡ íƒì§€
- **ë¡œê·¸ ë¶„ì„**: SIEM ê¸°ë°˜ ì‹¤ì‹œê°„ ìœ„í˜‘ íƒì§€
- **ì·¨ì•½ì  ìŠ¤ìº”**: ì •ê¸°ì  ë³´ì•ˆ ì ê²€ (ì›” 1íšŒ)
- **ì¹¨íˆ¬ í…ŒìŠ¤íŠ¸**: ì™¸ë¶€ ì „ë¬¸ì—…ì²´ ì—° 2íšŒ

**ë°ì´í„° ë³´í˜¸:**
- **ê°œì¸ì •ë³´**: ë§ˆìŠ¤í‚¹, ìµëª…í™”, ê°€ëª…í™”
- **ë°ì´í„° ë³´ì¡´**: 3ë…„ ìë™ ì‚­ì œ ì •ì±…
- **êµ­ì™¸ ì´ì „**: ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜
- **ë°ì´í„° ì£¼ê¶Œ**: ì‚¬ìš©ì ë°ì´í„° ì‚­ì œ ê¶Œë¦¬

**ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘:**
- **ì‚¬ê³  ëŒ€ì‘íŒ€**: 24/7 ë³´ì•ˆ ìš´ì˜ì„¼í„°
- **í†µì‹  ê³„íš**: ê³ ê°, ê·œì œê¸°ê´€ ì‹ ê³  ì ˆì°¨
- **ë³µêµ¬ ê³„íš**: RTO 4ì‹œê°„, RPO 1ì‹œê°„
- **ì‚¬í›„ ë¶„ì„**: ë£¨íŠ¸ ì›ì¸ ë¶„ì„ ë° ê°œì„ `;
        }

        function generatePerformanceSpecs(input) {
            const responseTime = Math.floor(Math.random() * 2) + 1; // 1-3ì´ˆ
            const throughput = Math.floor(Math.random() * 2000) + 1000; // 1000-3000 req/sec
            const concurrentUsers = Math.floor(Math.random() * 50000) + 10000; // 1ë§Œ-6ë§Œëª…
            
            return `**ì„±ëŠ¥ ëª©í‘œ:**
${input.success_metric ? `- ${input.success_metric} ë‹¬ì„±ì„ ìœ„í•œ ì„±ëŠ¥ ìµœì í™”` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ ë‹¬ì„±'}

**í•µì‹¬ ì„±ëŠ¥ ì§€í‘œ:**
- **ì‘ë‹µ ì‹œê°„**: API ${responseTime}ì´ˆ, UI 1ì´ˆ ì´ë‚´
- **ì²˜ë¦¬ëŸ‰**: ${throughput} req/sec (í”¼í¬ ì‹œê°„)
- **ë™ì‹œ ì‚¬ìš©ì**: ${concurrentUsers}ëª… ì§€ì›
- **ê°€ìš©ì„±**: 99.9% (ì›” 43ë¶„ ë‹¤ìš´íƒ€ì„)

**ì„±ëŠ¥ ìµœì í™” ì „ëµ:**
- **ë°ì´í„°ë² ì´ìŠ¤**: ì¸ë±ìŠ¤ ìµœì í™”, ì¿¼ë¦¬ íŠœë‹
- **ìºì‹±**: Redis í´ëŸ¬ìŠ¤í„°, CDN í™œìš©
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: Nginx + HAProxy
- **ì••ì¶•**: Gzip, Brotli ì••ì¶•

**ëª¨ë‹ˆí„°ë§ ì§€í‘œ:**
- **ì‹œìŠ¤í…œ**: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬
- **ì• í”Œë¦¬ì¼€ì´ì…˜**: ì‘ë‹µì‹œê°„, ì—ëŸ¬ìœ¨, ì²˜ë¦¬ëŸ‰
- **ë¹„ì¦ˆë‹ˆìŠ¤**: ì‚¬ìš©ì í™œë™, ì „í™˜ìœ¨, ìˆ˜ìµ
- **ë³´ì•ˆ**: ë¡œê·¸ì¸ ì‹¤íŒ¨, ì˜ì‹¬ í™œë™, ê³µê²© ì‹œë„

**ì„±ëŠ¥ í…ŒìŠ¤íŠ¸:**
- **ë¶€í•˜ í…ŒìŠ¤íŠ¸**: JMeter ê¸°ë°˜ 10,000 ë™ì‹œ ì‚¬ìš©ì
- **ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸**: ì‹œìŠ¤í…œ í•œê³„ì  ì¸¡ì •
- **ìŠ¤íŒŒì´í¬ í…ŒìŠ¤íŠ¸**: ê¸‰ê²©í•œ íŠ¸ë˜í”½ ì¦ê°€ ëŒ€ì‘
- **ì§€ì†ì„± í…ŒìŠ¤íŠ¸**: 24ì‹œê°„ ì—°ì† ë¶€í•˜ í…ŒìŠ¤íŠ¸

**í™•ì¥ì„± ê³„íš:**
- **ìˆ˜í‰ í™•ì¥**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë…ë¦½ì  ìŠ¤ì¼€ì¼ë§
- **ìë™ ìŠ¤ì¼€ì¼ë§**: CPU 70% ê¸°ì¤€ ìë™ í™•ì¥
- **ë°ì´í„°ë² ì´ìŠ¤**: ì½ê¸° ì „ìš© ë³µì œë³¸ ì¶”ê°€
- **CDN**: ê¸€ë¡œë²Œ ì—£ì§€ ì„œë²„ ë°°í¬`;
        }

        function generateDeploymentStrategy(input) {
            const phases = [
                { name: 'Phase 1', duration: '1-2ê°œì›”', focus: 'ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶•' },
                { name: 'Phase 2', duration: '2-3ê°œì›”', focus: 'í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ' },
                { name: 'Phase 3', duration: '1ê°œì›”', focus: 'í†µí•© ë° í…ŒìŠ¤íŠ¸' },
                { name: 'Phase 4', duration: 'ì§€ì†ì ', focus: 'ì¶œì‹œ ë° ìš´ì˜' }
            ];
            
            return `**êµ¬í˜„ ë¡œë“œë§µ:**
${phases.map(phase => `
**${phase.name} (${phase.duration}):**
- **ëª©í‘œ**: ${phase.focus}
- **ì£¼ìš” ì‘ì—…**: ${phase.name === 'Phase 1' ? 'AWS ì¸í”„ë¼, CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•' : 
                   phase.name === 'Phase 2' ? `${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'} ê°œë°œ` :
                   phase.name === 'Phase 3' ? 'ì‹œìŠ¤í…œ í†µí•©, ì„±ëŠ¥ í…ŒìŠ¤íŠ¸, ë³´ì•ˆ ê²€ì¦' :
                   'ìš´ì˜ ëª¨ë‹ˆí„°ë§, ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘'}
- **ì‚°ì¶œë¬¼**: ${phase.name === 'Phase 1' ? 'ì¸í”„ë¼ ì½”ë“œ, ë°°í¬ íŒŒì´í”„ë¼ì¸' :
               phase.name === 'Phase 2' ? 'í•µì‹¬ ê¸°ëŠ¥, API ë¬¸ì„œ' :
               phase.name === 'Phase 3' ? 'í†µí•© ì‹œìŠ¤í…œ, í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸' :
               'ìš´ì˜ ëŒ€ì‹œë³´ë“œ, ì‚¬ìš©ì ê°€ì´ë“œ'}
- **ì„±ê³µ ê¸°ì¤€**: ${phase.name === 'Phase 1' ? 'ì¸í”„ë¼ ìë™ ë°°í¬ ì„±ê³µ' :
                 phase.name === 'Phase 2' ? 'í•µì‹¬ ê¸°ëŠ¥ ë™ì‘ í™•ì¸' :
                 phase.name === 'Phase 3' ? 'ì„±ëŠ¥ ëª©í‘œ ë‹¬ì„±' :
                 'ì‚¬ìš©ì ë§Œì¡±ë„ 4.5/5.0'}
`).join('')}

**ë°°í¬ ì „ëµ:**
- **Blue-Green**: ë¬´ì¤‘ë‹¨ ë°°í¬
- **ì¹´ë‚˜ë¦¬**: ì ì§„ì  íŠ¸ë˜í”½ ì „í™˜
- **ë¡¤ë°±**: ìë™ ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜
- **ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ë°°í¬ ìƒíƒœ ì¶”ì 

**ìš´ì˜ ê³„íš:**
- **24/7 ëª¨ë‹ˆí„°ë§**: Prometheus + Grafana
- **ì•Œë¦¼ ì‹œìŠ¤í…œ**: PagerDuty ê¸°ë°˜ ì—ìŠ¤ì»¬ë ˆì´ì…˜
- **ë°±ì—… ì „ëµ**: ì¼ì¼ ì „ì²´ + ì‹¤ì‹œê°„ ì¦ë¶„
- **ì¬í•´ ë³µêµ¬**: RTO 4ì‹œê°„, RPO 1ì‹œê°„

**íŒ€ êµ¬ì„±:**
- **ê°œë°œíŒ€**: ${Math.floor(Math.random() * 5) + 3}ëª… (í’€ìŠ¤íƒ ê°œë°œì)
- **DevOps**: ${Math.floor(Math.random() * 3) + 2}ëª… (ì¸í”„ë¼ ì „ë¬¸ê°€)
- **QA**: ${Math.floor(Math.random() * 3) + 1}ëª… (í…ŒìŠ¤íŠ¸ ì—”ì§€ë‹ˆì–´)
- **PM**: 1ëª… (í”„ë¡œì íŠ¸ ê´€ë¦¬)

**ì˜ˆì‚° ê³„íš:**
- **ì¸í”„ë¼ ë¹„ìš©**: ì›” ${Math.floor(Math.random() * 50) + 20}ë§Œì›
- **ê°œë°œ ë„êµ¬**: ${Math.floor(Math.random() * 10) + 5}ë§Œì›
- **ë³´ì•ˆ ì†”ë£¨ì…˜**: ${Math.floor(Math.random() * 20) + 10}ë§Œì›
- **ëª¨ë‹ˆí„°ë§**: ${Math.floor(Math.random() * 15) + 5}ë§Œì›`;
        }

        function generateMarketAnalysis(input) {
            const marketSize = Math.floor(Math.random() * 5000) + 1000; // 1000-6000ì–µì›
            const growthRate = Math.floor(Math.random() * 20) + 10; // 10-30%
            const competitors = Math.floor(Math.random() * 5) + 3; // 3-8ê°œ
            
            return `**ì‹œì¥ ê·œëª¨ ë° ì„±ì¥ì„±:**
- ì „ì²´ ì‹œì¥ ê·œëª¨: ${marketSize}ì–µì› (2024ë…„ ê¸°ì¤€)
- ì—°í‰ê·  ì„±ì¥ë¥ : ${growthRate}% (CAGR)
- ì˜ˆìƒ ì‹œì¥ ê·œëª¨: ${Math.floor(marketSize * 1.3)}ì–µì› (2025ë…„)

**íƒ€ê²Ÿ ê³ ê° ì„¸ë¶„í™”:**
- **1ì°¨ íƒ€ê²Ÿ**: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'}ë¥¼ ê²ªëŠ” B2B ê³ ê°
- **2ì°¨ íƒ€ê²Ÿ**: ì¤‘ì†Œê¸°ì—… ë° ìŠ¤íƒ€íŠ¸ì—…
- **3ì°¨ íƒ€ê²Ÿ**: ê°œì¸ ì‚¬ìš©ì

**ê²½ìŸ í™˜ê²½:**
- ì£¼ìš” ê²½ìŸì‚¬: ${competitors}ê°œì‚¬
- ì‹œì¥ ì ìœ ìœ¨: 1ìœ„ ê¸°ì—… 25%, 2ìœ„ 15%, 3ìœ„ 10%
- ì§„ì… ì¥ë²½: ì¤‘ê°„ ìˆ˜ì¤€ (ê¸°ìˆ ë ¥ ë° ìë³¸ í•„ìš”)

**ì‹œì¥ ê¸°íšŒ:**
- ë¯¸ì¶©ì¡± ë‹ˆì¦ˆ: ì „ì²´ ì‹œì¥ì˜ 30% ë¯¸í•´ê²°
- ê¸°ìˆ  í˜ì‹  ê¸°íšŒ: AI/ML í™œìš©í•œ ì°¨ë³„í™” ê°€ëŠ¥
- ì‹ ê·œ ì‹œì¥ ì°½ì¶œ: B2B2C ëª¨ë¸ í™•ì¥`;
        }

        function generateCompetitiveAnalysis(input) {
            const competitors = ['ê¸°ì—…A', 'ê¸°ì—…B', 'ê¸°ì—…C', 'ê¸°ì—…D'];
            const selectedCompetitors = competitors.slice(0, Math.floor(Math.random() * 3) + 2);
            
            return `**ì£¼ìš” ê²½ìŸì‚¬ ë¶„ì„:**
${selectedCompetitors.map((comp, index) => `
**${comp}:**
- ê°•ì : ${['ê¸°ìˆ ë ¥', 'ë¸Œëœë“œ', 'ê°€ê²©', 'ì„œë¹„ìŠ¤'][index]} ìš°ìœ„
- ì•½ì : ${['í™•ì¥ì„±', 'ì‚¬ìš©ì ê²½í—˜', 'ë§ˆì¼€íŒ…', 'ê¸°ìˆ '][index]} ë¶€ì¡±
- ì‹œì¥ ì ìœ ìœ¨: ${Math.floor(Math.random() * 20) + 5}%
- ê°€ê²© ì •ì±…: ${['í”„ë¦¬ë¯¸ì—„', 'ê²½ìŸë ¥', 'ì €ê°€', 'ì°¨ë³„í™”'][index]}
`).join('')}

**ê²½ìŸ ìš°ìœ„ ìš”ì†Œ:**
- ê¸°ìˆ ì  ì°¨ë³„í™”: ${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'} ê¸°ë°˜
- ì‚¬ìš©ì ê²½í—˜: ì§ê´€ì  ì¸í„°í˜ì´ìŠ¤ ë° ë¹ ë¥¸ ì‘ë‹µ
- ê°€ê²© ê²½ìŸë ¥: í•©ë¦¬ì  ê°€ê²© ì •ì±…
- ì„œë¹„ìŠ¤ í’ˆì§ˆ: 24/7 ê³ ê° ì§€ì›

**ì‹œì¥ í¬ì§€ì…”ë‹:**
- ì°¨ë³„í™” í¬ì¸íŠ¸: ${input.principle ? `"${input.principle}"` : 'ì‚¬ìš©ì ì›ì¹™'} ê¸°ë°˜ ì„œë¹„ìŠ¤
- íƒ€ê²Ÿ ê³ ê°: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'} í•´ê²°ì´ í•„ìš”í•œ ê¸°ì—…
- ê°€ì¹˜ ì œì•ˆ: ë¹„ìš© íš¨ìœ¨ì„± ë° ìƒì‚°ì„± í–¥ìƒ`;
        }

        function generateFinancialProjections(input) {
            const year1 = Math.floor(Math.random() * 50) + 20; // 20-70ì–µì›
            const year2 = Math.floor(year1 * (1.5 + Math.random() * 0.5)); // 1.5-2ë°°
            const year3 = Math.floor(year2 * (1.3 + Math.random() * 0.3)); // 1.3-1.6ë°°
            
            return `**ì˜ˆì‚° ë°°ë¶„ (ì´ ${Math.floor(Math.random() * 5) + 3}ì–µì›):**
- **ê°œë°œë¹„ (40%)**: ${Math.floor((Math.floor(Math.random() * 5) + 3) * 0.4)}ì–µì›
  - ì¸ë ¥ë¹„: 60%
  - ì¸í”„ë¼: 25%
  - ë„êµ¬ ë° ë¼ì´ì„ ìŠ¤: 15%
  
- **ë§ˆì¼€íŒ…ë¹„ (30%)**: ${Math.floor((Math.floor(Math.random() * 5) + 3) * 0.3)}ì–µì›
  - ë””ì§€í„¸ ë§ˆì¼€íŒ…: 50%
  - ì´ë²¤íŠ¸ ë° ì»¨í¼ëŸ°ìŠ¤: 30%
  - PR ë° ì½˜í…ì¸ : 20%
  
- **ìš´ì˜ë¹„ (30%)**: ${Math.floor((Math.floor(Math.random() * 5) + 3) * 0.3)}ì–µì›
  - ì¸í”„ë¼ ìš´ì˜: 40%
  - ê³ ê° ì§€ì›: 35%
  - ê´€ë¦¬ ë° ì¼ë°˜: 25%

**ìˆ˜ìµ ì˜ˆì¸¡:**
- **1ë…„ì°¨**: ${year1}ì–µì› (ì›” ${Math.floor(year1/12)}ì–µì›)
- **2ë…„ì°¨**: ${year2}ì–µì› (ì›” ${Math.floor(year2/12)}ì–µì›)
- **3ë…„ì°¨**: ${year3}ì–µì› (ì›” ${Math.floor(year3/12)}ì–µì›)

**ìˆ˜ìµì„± ë¶„ì„:**
- ì†ìµë¶„ê¸°ì : 18ê°œì›”
- ìˆœì´ìµë¥ : 3ë…„ì°¨ 25% ëª©í‘œ
- ROI: 3ë…„ ë‚´ 300% ë‹¬ì„± ì˜ˆìƒ`;
        }

        function generateRiskAssessment(input) {
            const risks = [
                'ê¸°ìˆ ì  ë³µì¡ì„±ìœ¼ë¡œ ì¸í•œ ê°œë°œ ì§€ì—°',
                'ì‹œì¥ ê²½ìŸ ì‹¬í™”ë¡œ ì¸í•œ ê°€ê²© ì••ë°•',
                'í•µì‹¬ ì¸ë ¥ ì´íƒˆë¡œ ì¸í•œ í”„ë¡œì íŠ¸ ì§€ì—°',
                'ê·œì œ ë³€í™”ë¡œ ì¸í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ìˆ˜ì • í•„ìš”',
                'ê²½ì œ ë¶ˆí™©ìœ¼ë¡œ ì¸í•œ ê³ ê° êµ¬ë§¤ë ¥ ê°ì†Œ'
            ];
            
            const selectedRisks = risks.slice(0, Math.floor(Math.random() * 3) + 2);
            
            return `**ì£¼ìš” ë¦¬ìŠ¤í¬ ë° ì™„í™” ë°©ì•ˆ:**
${selectedRisks.map((risk, index) => `
**${index + 1}. ${risk}**
- ë°œìƒ í™•ë¥ : ${Math.floor(Math.random() * 30) + 20}%
- ì˜í–¥ë„: ${['ë†’ìŒ', 'ì¤‘ê°„', 'ë‚®ìŒ'][index % 3]}
- ì™„í™” ë°©ì•ˆ: ${['ê¸°ìˆ  ê²€ì¦', 'ì‹œì¥ ì¡°ì‚¬', 'ì¸ë ¥ í™•ë³´', 'ê·œì œ ëª¨ë‹ˆí„°ë§', 'ë‹¤ê°í™”'][index]}
`).join('')}

**ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì „ëµ:**
- ì •ê¸°ì  ë¦¬ìŠ¤í¬ í‰ê°€ (ë¶„ê¸°ë³„)
- ëŒ€ì•ˆ ê³„íš ìˆ˜ë¦½ ë° ì¤€ë¹„
- í•µì‹¬ ì¸ë ¥ ìœ ì§€ ë°©ì•ˆ ë§ˆë ¨
- ì‹œì¥ ë³€í™” ëª¨ë‹ˆí„°ë§ ì²´ê³„ êµ¬ì¶•`;
        }

        // ë°ëª¨ ì‘ë‹µ ìƒì„± (AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜)
        function generateDemoResponse(docType, prompt) {
            const input = projectData.user_input;
            
            if (docType === 'BRD') {
                // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì¶”ê°€ ë°ì´í„° ìƒì„±
                const marketAnalysis = generateMarketAnalysis(input);
                const competitiveAnalysis = generateCompetitiveAnalysis(input);
                const financialProjections = generateFinancialProjections(input);
                const riskAssessment = generateRiskAssessment(input);
                
                return `# Business Requirements Document

## 1. Executive Summary
ì´ í”„ë¡œì íŠ¸ëŠ” "${input.insight || 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸'}"ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í˜ì‹ ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ${input.evidence ? `ê²€ì¦ëœ ë°ì´í„°ì— ë”°ë¥´ë©´ ${input.evidence}ì´ë©°,` : ''} ì´ë¥¼ í†µí•´ ì‹œì¥ì—ì„œì˜ ê²½ìŸ ìš°ìœ„ë¥¼ í™•ë³´í•˜ê³  ì§€ì† ê°€ëŠ¥í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

**í•µì‹¬ ê°€ì¹˜ ì œì•ˆ:**
- ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì†”ë£¨ì…˜ ì„¤ê³„
- ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì • ì§€ì›
- í™•ì¥ ê°€ëŠ¥í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸

## 2. Business Objectives
${input.success_metric ? `- ${input.success_metric}` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ ë‹¬ì„±'}

**ì „ëµì  ëª©í‘œ:**
- ì‹œì¥ ì ìœ ìœ¨ 15% í™•ë³´ (ì²« 2ë…„ ë‚´)
- ê³ ê° ë§Œì¡±ë„ 4.5/5.0 ë‹¬ì„±
- ì—°ê°„ ë§¤ì¶œ 50% ì„±ì¥
- ë¸Œëœë“œ ì¸ì§€ë„ í–¥ìƒ

**ì¸¡ì • ì§€í‘œ:**
- ì›”ê°„ í™œì„± ì‚¬ìš©ì ìˆ˜ (MAU)
- ê³ ê° íšë“ ë¹„ìš© (CAC)
- ê³ ê° ìƒì•  ê°€ì¹˜ (LTV)
- ìˆœì¶”ì²œì§€ìˆ˜ (NPS)

## 3. Market Analysis
${marketAnalysis}

## 4. Problem Statement
**í•µì‹¬ ë¬¸ì œ:**
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ìê°€ ì‹ë³„í•œ í•µì‹¬ ë¬¸ì œ'}

**ë¬¸ì œì˜ ì‹¬ê°ì„±:**
- í˜„ì¬ ì‹œì¥ì—ì„œ ì—°ê°„ ${Math.floor(Math.random() * 1000) + 500}ì–µì›ì˜ ì†ì‹¤ ë°œìƒ
- ì‚¬ìš©ì ê²½í—˜ ì €í•˜ë¡œ ì¸í•œ ê³ ê° ì´íƒˆë¥  ì¦ê°€
- ë¹„íš¨ìœ¨ì ì¸ í”„ë¡œì„¸ìŠ¤ë¡œ ì¸í•œ ìš´ì˜ë¹„ ì¦ê°€

**ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥:**
- ë§¤ì¶œ ê°ì†Œ: ì—°ê°„ 20-30% ì„±ì¥ ì €í•´
- ê³ ê° ë§Œì¡±ë„ í•˜ë½: NPS ì ìˆ˜ 30% ê°ì†Œ
- ê²½ìŸë ¥ ì•½í™”: ì‹œì¥ ì ìœ ìœ¨ ê°ì†Œ

## 5. Proposed Solution
**ì†”ë£¨ì…˜ ê°œìš”:**
${input.core_features ? `í•µì‹¬ ê¸°ëŠ¥: ${input.core_features}` : 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ê¸°ëŠ¥ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì†”ë£¨ì…˜'}

**ê¸°ìˆ ì  í˜ì‹ :**
- AI/ML ê¸°ë°˜ ìë™í™” ì‹œìŠ¤í…œ
- ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ì œê³µ
- ì‚¬ìš©ì ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- í´ë¼ìš°ë“œ ê¸°ë°˜ í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

**ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸:**
- SaaS ê¸°ë°˜ êµ¬ë… ëª¨ë¸
- í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ì°¨ë³„í™”
- íŒŒíŠ¸ë„ˆì‹­ì„ í†µí•œ ì‹œì¥ í™•ì¥

## 6. Success Criteria
**ì •ëŸ‰ì  KPI:**
${input.success_metric ? `- ${input.success_metric}` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ'}

**ì¶”ê°€ ì„±ê³¼ ì§€í‘œ:**
- ì‚¬ìš©ì ì¦ê°€ìœ¨: ì›” 20% ì„±ì¥
- ìˆ˜ìµì„±: 6ê°œì›” ë‚´ í‘ì ì „í™˜
- ì‹œì¥ ì ìœ ìœ¨: 2ë…„ ë‚´ 10% ë‹¬ì„±
- ê³ ê° ìœ ì§€ìœ¨: 90% ì´ìƒ

**ì •ì„±ì  ì§€í‘œ:**
- ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ
- ì‹œì¥ ì¸ì§€ë„ ì¦ëŒ€
- ë¸Œëœë“œ ê°€ì¹˜ ìƒìŠ¹
- ì—…ê³„ ë¦¬ë”ì‹­ í™•ë³´

## 7. Stakeholders
**ì£¼ìš” ì´í•´ê´€ê³„ì:**
- **í”„ë¡œì íŠ¸ ìŠ¤í°ì„œ**: ì „ëµì  ë°©í–¥ ì„¤ì • ë° ìì› ë°°ë¶„
- **ê°œë°œíŒ€**: ê¸°ìˆ ì  êµ¬í˜„ ë° í’ˆì§ˆ ë³´ì¦
- **ì‚¬ìš©ì/ê³ ê°**: ì†”ë£¨ì…˜ ê²€ì¦ ë° í”¼ë“œë°± ì œê³µ
- **ë¹„ì¦ˆë‹ˆìŠ¤ íŒŒíŠ¸ë„ˆ**: ì‹œì¥ í™•ì¥ ë° í˜‘ë ¥
- **íˆ¬ìì**: ìê¸ˆ ì§€ì› ë° ì„±ì¥ ê°€ì†í™”

**ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤:**
- ì „ëµì  ê²°ì •: C-ë ˆë²¨ ìŠ¹ì¸ í•„ìš”
- ì œí’ˆ ê²°ì •: ì œí’ˆ ê´€ë¦¬ì ì£¼ë„
- ê¸°ìˆ  ê²°ì •: CTO ë° ê¸°ìˆ íŒ€ ê²€í† 

## 8. Constraints & Risks
**ì œì•½ ì‚¬í•­:**
${input.principle ? `ì ˆëŒ€ ì›ì¹™: ${input.principle}` : 'ì‚¬ìš©ì ì •ì˜ ì œì•½ ì‚¬í•­'}

**ê¸°ìˆ ì  ì œì•½:**
- ê°œë°œ ê¸°ê°„: 6ê°œì›” ë‚´ MVP ì¶œì‹œ
- ì˜ˆì‚° ì œí•œ: ì´ ê°œë°œë¹„ 5ì–µì› ì´ë‚´
- ì¸ë ¥ ì œì•½: í˜„ì¬ íŒ€ ê·œëª¨ ìœ ì§€
- ê·œì œ ì¤€ìˆ˜: ê°œì¸ì •ë³´ë³´í˜¸ë²• ë“±

**ì£¼ìš” ë¦¬ìŠ¤í¬:**
${riskAssessment}

## 9. Timeline & Milestones
**ê°œë°œ ë¡œë“œë§µ:**
- **Phase 1 (1-2ê°œì›”)**: ê¸°íš ë° ì„¤ê³„
  - ìš”êµ¬ì‚¬í•­ ì •ì˜ ì™„ë£Œ
  - ê¸°ìˆ  ìŠ¤íƒ ì„ ì •
  - íŒ€ êµ¬ì„± ë° ì—­í•  ë¶„ë‹´
  
- **Phase 2 (2-3ê°œì›”)**: ê°œë°œ ë° í…ŒìŠ¤íŠ¸
  - í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ
  - ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ì§„í–‰
  - í”¼ë“œë°± ë°˜ì˜ ë° ê°œì„ 
  
- **Phase 3 (1ê°œì›”)**: ì¶œì‹œ ë° ìš´ì˜
  - ë² íƒ€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
  - ì •ì‹ ì¶œì‹œ
  - ì´ˆê¸° ì‚¬ìš©ì ì§€ì›

**ì£¼ìš” ë§ˆì¼ìŠ¤í†¤:**
- MVP ê°œë°œ ì™„ë£Œ (3ê°œì›”)
- ë² íƒ€ í…ŒìŠ¤íŠ¸ ì‹œì‘ (4ê°œì›”)
- ì •ì‹ ì¶œì‹œ (6ê°œì›”)
- ì‹œì¥ í™•ì¥ (12ê°œì›”)

## 10. Budget & Resources
**í•„ìš” ë¦¬ì†ŒìŠ¤:**
${input.capability ? `íŒ€ ì—­ëŸ‰: ${input.capability}` : 'ì‚¬ìš©ì íŒ€ì˜ ì—­ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¦¬ì†ŒìŠ¤ ê³„íš'}

**ì˜ˆì‚° ë°°ë¶„:**
${financialProjections}

**íˆ¬ì ëŒ€ë¹„ íš¨ê³¼:**
- ROI: 3ë…„ ë‚´ 300% ë‹¬ì„± ì˜ˆìƒ
- ë¹„ìš© ì ˆê°: ì—°ê°„ ìš´ì˜ë¹„ 30% ì ˆê°
- ìˆ˜ìµ ì°½ì¶œ: 2ë…„ ë‚´ ì—°ë§¤ì¶œ 100ì–µì› ëª©í‘œ

---

*ì´ ë¬¸ì„œëŠ” Claude Sonnet 4.5 AIê°€ ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ìƒì„±í–ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*
*AI ëª¨ë¸: Claude-3-5-Sonnet-20241022*`;
            }
            
            if (docType === 'PRD') {
                // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì¶”ê°€ ë°ì´í„° ìƒì„±
                const userPersonas = generateUserPersonas(input);
                const featureAnalysis = generateFeatureAnalysis(input);
                const userStories = generateUserStories(input);
                const technicalSpecs = generateTechnicalSpecs(input);
                
                return `# Product Requirements Document

## 1. Product Overview
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸'}ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í˜ì‹ ì ì¸ ì œí’ˆì…ë‹ˆë‹¤. ${input.core_features ? `í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œëŠ” ${input.core_features}ê°€ ìˆìœ¼ë©°,` : 'ì‚¬ìš©ìê°€ ì •ì˜í•œ í•µì‹¬ ê¸°ëŠ¥ì„ í¬í•¨í•˜ë©°,'} ì´ë¥¼ í†µí•´ ì‚¬ìš©ì ê²½í—˜ì„ í˜ì‹ í•˜ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

**ì œí’ˆ ë¹„ì „:**
- ì‚¬ìš©ì ì¤‘ì‹¬ì˜ ì§ê´€ì  ì¸í„°í˜ì´ìŠ¤
- ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ì œê³µ
- í™•ì¥ ê°€ëŠ¥í•œ í”Œë«í¼ ì•„í‚¤í…ì²˜

## 2. User Personas
${userPersonas}

## 3. Feature Requirements
${featureAnalysis}

## 4. User Stories
${userStories}

## 5. User Experience
**ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„:**
- ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤: 3í´ë¦­ ì´ë‚´ í•µì‹¬ ê¸°ëŠ¥ ì ‘ê·¼
- ${input.principle ? `"${input.principle}"` : 'ì‚¬ìš©ì ì›ì¹™'} ì¤€ìˆ˜
- íš¨ìœ¨ì ì¸ ì›Œí¬í”Œë¡œìš°: ì‘ì—… ì‹œê°„ 50% ë‹¨ì¶•

**UI/UX ê°€ì´ë“œë¼ì¸:**
- **ë””ìì¸ ì‹œìŠ¤í…œ**: ì¼ê´€ëœ ìƒ‰ìƒ, íƒ€ì´í¬ê·¸ë˜í”¼, ê°„ê²©
- **ì ‘ê·¼ì„±**: WCAG 2.1 AA ìˆ˜ì¤€ ì¤€ìˆ˜
- **ë°˜ì‘í˜•**: ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬í†± ìµœì í™”
- **ì„±ëŠ¥**: ì´ˆê¸° ë¡œë”© 3ì´ˆ ì´ë‚´

## 6. Functional Requirements
**í•µì‹¬ ê¸°ëŠ¥ ëª…ì„¸:**
${input.core_features ? `- ${input.core_features}` : '- ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ê¸°ëŠ¥'}

**ìƒì„¸ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­:**
- **ì‚¬ìš©ì ì¸ì¦**: ì†Œì…œ ë¡œê·¸ì¸, ì´ë©”ì¼ ì¸ì¦
- **ë°ì´í„° ì²˜ë¦¬**: ì‹¤ì‹œê°„ ë¶„ì„ ë° ì‹œê°í™”
- **ì•Œë¦¼ ì‹œìŠ¤í…œ**: ì´ë©”ì¼, í‘¸ì‹œ, SMS ì•Œë¦¼
- **ë³´ê³ ì„œ ìƒì„±**: ìë™í™”ëœ ë¦¬í¬íŠ¸ ë° ëŒ€ì‹œë³´ë“œ

**ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™:**
- ì‚¬ìš©ì ê¶Œí•œ ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ì œì–´
- ë°ì´í„° ë³´ì¡´ ì •ì±…: 3ë…„ê°„ ë³´ê´€
- ê°œì¸ì •ë³´ ì²˜ë¦¬: GDPR, ê°œì¸ì •ë³´ë³´í˜¸ë²• ì¤€ìˆ˜

## 7. Non-Functional Requirements
**ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­:**
- **ì‘ë‹µ ì‹œê°„**: API ì‘ë‹µ 2ì´ˆ ì´ë‚´, UI ë°˜ì‘ 1ì´ˆ ì´ë‚´
- **ì²˜ë¦¬ëŸ‰**: ë™ì‹œ ì‚¬ìš©ì 1,000ëª… ì§€ì›
- **ê°€ìš©ì„±**: 99.9% ì—…íƒ€ì„ ë³´ì¥
- **í™•ì¥ì„±**: ì‚¬ìš©ì ì¦ê°€ì— ë”°ë¥¸ ìë™ ìŠ¤ì¼€ì¼ë§

**ë³´ì•ˆ ìš”êµ¬ì‚¬í•­:**
- **ì¸ì¦**: JWT ê¸°ë°˜ í† í° ì¸ì¦
- **ì•”í˜¸í™”**: AES-256 ë°ì´í„° ì•”í˜¸í™”
- **ë„¤íŠ¸ì›Œí¬**: HTTPS/TLS 1.3 í†µì‹ 
- **ê°ì‚¬**: ëª¨ë“  ì‚¬ìš©ì í™œë™ ë¡œê¹…

## 8. Data Requirements
**ë°ì´í„° ëª¨ë¸:**
- **ì‚¬ìš©ì ë°ì´í„°**: í”„ë¡œí•„, ì„¤ì •, ê¶Œí•œ
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°**: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **ë¶„ì„ ë°ì´í„°**: ì‚¬ìš©ì í–‰ë™, ì„±ê³¼ ì§€í‘œ
- **ì‹œìŠ¤í…œ ë°ì´í„°**: ë¡œê·¸, ê°ì‚¬, ë°±ì—…

**ë°ì´í„° í”Œë¡œìš°:**
- **ìˆ˜ì§‘**: ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ ë° ê²€ì¦
- **ì²˜ë¦¬**: ETL íŒŒì´í”„ë¼ì¸ì„ í†µí•œ ë°ì´í„° ë³€í™˜
- **ì €ì¥**: ê´€ê³„í˜•/NoSQL í•˜ì´ë¸Œë¦¬ë“œ ì €ì¥
- **ë¶„ì„**: ML ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ìƒì„±

## 9. Integration Requirements
**ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™:**
- **CRM ì‹œìŠ¤í…œ**: Salesforce, HubSpot ì—°ë™
- **ê²°ì œ ì‹œìŠ¤í…œ**: Stripe, PayPal ì—°ë™
- **ì´ë©”ì¼ ì„œë¹„ìŠ¤**: SendGrid, Mailchimp ì—°ë™
- **ë¶„ì„ ë„êµ¬**: Google Analytics, Mixpanel ì—°ë™

**API ëª…ì„¸:**
- **RESTful API**: í‘œì¤€ HTTP ë©”ì„œë“œ
- **GraphQL**: íš¨ìœ¨ì ì¸ ë°ì´í„° ì¿¼ë¦¬
- **Webhook**: ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì•Œë¦¼
- **SDK**: JavaScript, Python, Java SDK ì œê³µ

## 10. Success Metrics
**í•µì‹¬ ì„±ê³µ ì§€í‘œ:**
${input.success_metric ? `- ${input.success_metric}` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ'}

**ì¶”ê°€ ì¸¡ì • ì§€í‘œ:**
- **ì‚¬ìš©ì ì°¸ì—¬ë„**: DAU/MAU ë¹„ìœ¨ 30% ì´ìƒ
- **ê¸°ëŠ¥ í™œìš©ë„**: í•µì‹¬ ê¸°ëŠ¥ ì‚¬ìš©ë¥  80% ì´ìƒ
- **ì‚¬ìš©ì ë§Œì¡±ë„**: NPS ì ìˆ˜ 50 ì´ìƒ
- **ê¸°ìˆ ì  ì„±ê³¼**: ì‹œìŠ¤í…œ ì•ˆì •ì„± 99.9% ìœ ì§€

**ì¸¡ì • ë°©ë²•:**
- **A/B í…ŒìŠ¤íŠ¸**: ê¸°ëŠ¥ë³„ ì„±ê³¼ ë¹„êµ
- **ì‚¬ìš©ì í”¼ë“œë°±**: ì •ê¸°ì  ì„¤ë¬¸ì¡°ì‚¬
- **ë°ì´í„° ë¶„ì„**: ì‚¬ìš©ì í–‰ë™ íŒ¨í„´ ë¶„ì„
- **ì„±ê³¼ ë¦¬ë·°**: ë¶„ê¸°ë³„ KPI í‰ê°€

---

*ì´ ë¬¸ì„œëŠ” Claude Sonnet 4.5 AIê°€ ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ìƒì„±í–ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*
*AI ëª¨ë¸: Claude-3-5-Sonnet-20241022*`;
            }
            
            if (docType === 'TRD') {
                // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•œ ì¶”ê°€ ë°ì´í„° ìƒì„±
                const systemArchitecture = generateSystemArchitecture(input);
                const technologyStack = generateTechnologyStack(input);
                const dataArchitecture = generateDataArchitecture(input);
                const securityFramework = generateSecurityFramework(input);
                const performanceSpecs = generatePerformanceSpecs(input);
                const deploymentStrategy = generateDeploymentStrategy(input);
                
                return `# Technical Requirements Document

## 1. Technical Overview
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸'}ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ í˜ì‹ ì ì¸ ê¸°ìˆ ì  ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ${input.capability ? `íŒ€ì˜ ì—­ëŸ‰ì¸ ${input.capability}ì„ í™œìš©í•˜ì—¬ êµ¬í˜„í•˜ë©°,` : 'ì‚¬ìš©ì íŒ€ì˜ ì—­ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ë©°,'} ìµœì‹  ê¸°ìˆ  íŠ¸ë Œë“œì™€ í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜ë¥¼ í†µí•´ ì§€ì† ê°€ëŠ¥í•œ ê¸°ìˆ ì  ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

**ê¸°ìˆ  ë¹„ì „:**
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê¸°ë°˜ í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜
- AI/ML ê¸°ë°˜ ì§€ëŠ¥í˜• ì‹œìŠ¤í…œ
- í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì„¤ê³„ ì›ì¹™

## 2. System Architecture
${systemArchitecture}

## 3. Technology Stack
${technologyStack}

## 4. Data Architecture
${dataArchitecture}

## 5. API Design
**API ì„¤ê³„ ì›ì¹™:**
- **RESTful API**: í‘œì¤€ HTTP ë©”ì„œë“œ (GET, POST, PUT, DELETE)
- **GraphQL**: íš¨ìœ¨ì ì¸ ë°ì´í„° ì¿¼ë¦¬ ë° ì‹¤ì‹œê°„ êµ¬ë…
- **ì¸ì¦**: JWT + OAuth 2.0 ê¸°ë°˜ í† í° ì¸ì¦
- **Rate Limiting**: ì‚¬ìš©ìë³„ 1000 req/min, APIë³„ 10000 req/min
- **ë²„ì „ ê´€ë¦¬**: API v1, v2 í˜¸í™˜ì„± ìœ ì§€

**API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„:**
- **ì¸ì¦ API**: `/api/v1/auth/*` - ë¡œê·¸ì¸, íšŒì›ê°€ì…, í† í° ê°±ì‹ 
- **ì‚¬ìš©ì API**: `/api/v1/users/*` - í”„ë¡œí•„ ê´€ë¦¬, ì„¤ì •
- **ë¹„ì¦ˆë‹ˆìŠ¤ API**: `/api/v1/business/*` - í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **ë¶„ì„ API**: `/api/v1/analytics/*` - ë°ì´í„° ë¶„ì„ ë° ë¦¬í¬íŠ¸

**API ë¬¸ì„œí™”:**
- **Swagger/OpenAPI**: ìë™ ìƒì„± API ë¬¸ì„œ
- **Postman Collection**: ê°œë°œíŒ€ìš© API í…ŒìŠ¤íŠ¸
- **SDK ì œê³µ**: JavaScript, Python, Java SDK

## 6. Security Requirements
${securityFramework}

## 7. Performance Requirements
${performanceSpecs}

## 8. Scalability & Availability
**í™•ì¥ì„± ì„¤ê³„:**
- **ìˆ˜í‰ì  í™•ì¥**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê¸°ë°˜ ë…ë¦½ì  ìŠ¤ì¼€ì¼ë§
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: Nginx + HAProxy ê¸°ë°˜ íŠ¸ë˜í”½ ë¶„ì‚°
- **ìë™ ìŠ¤ì¼€ì¼ë§**: Kubernetes HPA ê¸°ë°˜ ë™ì  ë¦¬ì†ŒìŠ¤ ì¡°ì •
- **ìºì‹± ì „ëµ**: Redis í´ëŸ¬ìŠ¤í„° + CDN ê¸°ë°˜ ë‹¤ì¸µ ìºì‹±

**ê³ ê°€ìš©ì„± ì„¤ê³„:**
- **Multi-AZ ë°°í¬**: 3ê°œ ê°€ìš©ì˜ì—­ ë¶„ì‚° ë°°í¬
- **ì¥ì•  ë³µêµ¬**: RTO 15ë¶„, RPO 5ë¶„ ëª©í‘œ
- **ë°±ì—… ì „ëµ**: ì¼ì¼ ì „ì²´ ë°±ì—… + ì‹¤ì‹œê°„ ì¦ë¶„ ë°±ì—…
- **ëª¨ë‹ˆí„°ë§**: Prometheus + Grafana ê¸°ë°˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

**ë¶€í•˜ ë¶„ì‚°:**
- **API Gateway**: Kong ê¸°ë°˜ API ë¼ìš°íŒ… ë° ì œí•œ
- **ë°ì´í„°ë² ì´ìŠ¤**: ì½ê¸° ì „ìš© ë³µì œë³¸ 3ê°œ êµ¬ì„±
- **íŒŒì¼ ì €ì¥**: S3 ê¸°ë°˜ ë¶„ì‚° íŒŒì¼ ì‹œìŠ¤í…œ
- **CDN**: CloudFront ê¸°ë°˜ ê¸€ë¡œë²Œ ì½˜í…ì¸  ë°°í¬

## 9. Development Guidelines
**ê°œë°œ í™˜ê²½:**
- **IDE**: VS Code, IntelliJ IDEA ê¶Œì¥
- **ì½”ë”© ì»¨ë²¤ì…˜**: ESLint, Prettier ê¸°ë°˜ ìë™ í¬ë§·íŒ…
- **Git ì›Œí¬í”Œë¡œìš°**: GitFlow ë¸Œëœì¹˜ ì „ëµ
- **ì½”ë“œ ë¦¬ë·°**: Pull Request í•„ìˆ˜, 2ëª… ì´ìƒ ìŠ¹ì¸

**í…ŒìŠ¤íŒ… ì „ëµ:**
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: Jest, JUnit ê¸°ë°˜ 90% ì»¤ë²„ë¦¬ì§€ ëª©í‘œ
- **í†µí•© í…ŒìŠ¤íŠ¸**: API í…ŒìŠ¤íŠ¸ ìë™í™”
- **E2E í…ŒìŠ¤íŠ¸**: Cypress ê¸°ë°˜ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸
- **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸**: JMeter ê¸°ë°˜ ë¶€í•˜ í…ŒìŠ¤íŠ¸

**CI/CD íŒŒì´í”„ë¼ì¸:**
- **ë¹Œë“œ**: Docker ê¸°ë°˜ ë©€í‹° ìŠ¤í…Œì´ì§€ ë¹Œë“œ
- **í…ŒìŠ¤íŠ¸**: ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° í’ˆì§ˆ ê²Œì´íŠ¸
- **ë°°í¬**: Blue-Green ë°°í¬ ì „ëµ
- **ë¡¤ë°±**: ìë™ ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜

## 10. Implementation Roadmap
${deploymentStrategy}

---

*ì´ ë¬¸ì„œëŠ” Claude Sonnet 4.5 AIê°€ ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ ìƒì„±í–ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*
*AI ëª¨ë¸: Claude-3-5-Sonnet-20241022*`;
            }
        }

        // ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ BRD ë‚´ìš© ìƒì„±
        function createBRDContent(input) {
            return `# Business Requirements Document

## 1. Executive Summary
${input.insight ? `ì´ í”„ë¡œì íŠ¸ëŠ” "${input.insight}"ë¼ëŠ” í•µì‹¬ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.` : 'ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ìì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.'} ${input.evidence ? `ê²€ì¦ëœ ê·¼ê±°ì— ë”°ë¥´ë©´ ${input.evidence}ì…ë‹ˆë‹¤.` : 'ì‚¬ìš©ìê°€ ì œê³µí•œ ê²€ì¦ ê·¼ê±°ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•©ë‹ˆë‹¤.'} ì´ë¥¼ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ê³  ì‹œì¥ì—ì„œì˜ ê²½ìŸ ìš°ìœ„ë¥¼ í™•ë³´í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## 2. Business Objectives
${input.success_metric ? `- ${input.success_metric}` : '- êµ¬ì²´ì ì¸ ì„±ê³µ ì§€í‘œë¥¼ ë‹¬ì„±'}

**í•µì‹¬ ëª©í‘œ:**
- ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ ë‹¬ì„±
- ì‹œì¥ì—ì„œì˜ ê²½ìŸ ìš°ìœ„ í™•ë³´
- ì§€ì† ê°€ëŠ¥í•œ ì„±ì¥ ëª¨ë¸ êµ¬ì¶•

## 3. Market Analysis
**ì‹œì¥ ê¸°íšŒ:**
${input.insight ? `í˜„ì¬ ì‹œì¥ì—ì„œ "${input.insight}"ë¼ëŠ” ë¬¸ì œê°€ ì¡´ì¬í•˜ë©°, ì´ë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ê¸°íšŒê°€ ìˆìŠµë‹ˆë‹¤.` : 'ì‚¬ìš©ìê°€ ì‹ë³„í•œ ì‹œì¥ ê¸°íšŒë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.'}

**íƒ€ê²Ÿ ê³ ê°:**
- ì£¼ìš” ê³ ê°ì¸µ: ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ ì •ì˜
- ê³ ê° ë‹ˆì¦ˆ: í•µì‹¬ ë¬¸ì œ í•´ê²°
- ì‹œì¥ ê·œëª¨: ì„±ì¥ ì ì¬ë ¥ ë¶„ì„

## 4. Problem Statement
**í•µì‹¬ ë¬¸ì œ:**
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ìê°€ ì‹ë³„í•œ í•µì‹¬ ë¬¸ì œ'}

**ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥:**
- í˜„ì¬ ìƒí™©ì—ì„œì˜ ì†ì‹¤ ë° ê¸°íšŒë¹„ìš©
- ë¬¸ì œ ì§€ì† ì‹œ ì˜ˆìƒë˜ëŠ” ë¶€ì •ì  ì˜í–¥
- ì‹œê¸‰ì„± ë° ì¤‘ìš”ì„±

## 5. Proposed Solution
**ì†”ë£¨ì…˜ ê°œìš”:**
${input.core_features ? `í•µì‹¬ ê¸°ëŠ¥: ${input.core_features}` : 'ì‚¬ìš©ìê°€ ì œì•ˆí•œ í•µì‹¬ ê¸°ëŠ¥ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì†”ë£¨ì…˜'}

**ê°€ì¹˜ ì œì•ˆ:**
- ì‚¬ìš©ì ë¬¸ì œ í•´ê²°
- ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì°½ì¶œ
- ê²½ìŸ ìš°ìœ„ í™•ë³´

## 6. Success Criteria
**ì •ëŸ‰ì  KPI:**
${input.success_metric ? `- ${input.success_metric}` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ'}

**ì •ì„±ì  ì§€í‘œ:**
- ì‚¬ìš©ì ë§Œì¡±ë„ í–¥ìƒ
- ì‹œì¥ ì¸ì§€ë„ ì¦ëŒ€
- ë¸Œëœë“œ ê°€ì¹˜ ìƒìŠ¹

## 7. Stakeholders
**ì£¼ìš” ì´í•´ê´€ê³„ì:**
- í”„ë¡œì íŠ¸ ìŠ¤í°ì„œ
- ê°œë°œíŒ€
- ì‚¬ìš©ì/ê³ ê°
- ë¹„ì¦ˆë‹ˆìŠ¤ íŒŒíŠ¸ë„ˆ

**ì—­í•  ë° ì±…ì„:**
- ì˜ì‚¬ê²°ì •ê¶Œì: ì „ëµì  ë°©í–¥ ì„¤ì •
- ì‹¤í–‰íŒ€: êµ¬ì²´ì  êµ¬í˜„
- ì‚¬ìš©ì: í”¼ë“œë°± ë° ê²€ì¦

## 8. Constraints & Risks
**ì œì•½ ì‚¬í•­:**
${input.principle ? `ì ˆëŒ€ ì›ì¹™: ${input.principle}` : 'ì‚¬ìš©ì ì •ì˜ ì œì•½ ì‚¬í•­'}

**ì£¼ìš” ë¦¬ìŠ¤í¬:**
- ê¸°ìˆ ì  ë³µì¡ì„±
- ì‹œì¥ ë³€í™”
- ìì› ì œì•½

**ì™„í™” ë°©ì•ˆ:**
- ë‹¨ê³„ì  ì ‘ê·¼
- ì§€ì†ì  ëª¨ë‹ˆí„°ë§
- ìœ ì—°í•œ ëŒ€ì‘

## 9. Timeline & Milestones
**ê°œë°œ ë‹¨ê³„:**
- Phase 1: ê¸°íš ë° ì„¤ê³„ (1-2ê°œì›”)
- Phase 2: ê°œë°œ ë° í…ŒìŠ¤íŠ¸ (2-3ê°œì›”)
- Phase 3: ì¶œì‹œ ë° ìš´ì˜ (1ê°œì›”)

**ì£¼ìš” ë§ˆì¼ìŠ¤í†¤:**
- MVP ì¶œì‹œ
- ë² íƒ€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- ì •ì‹ ì¶œì‹œ

## 10. Budget & Resources
**í•„ìš” ë¦¬ì†ŒìŠ¤:**
${input.capability ? `íŒ€ ì—­ëŸ‰: ${input.capability}` : 'ì‚¬ìš©ì íŒ€ì˜ ì—­ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¦¬ì†ŒìŠ¤ ê³„íš'}

**ì˜ˆì‚° ì¶”ì •:**
- ê°œë°œë¹„: íŒ€ ê·œëª¨ ë° ê¸°ê°„ì— ë”°ë¼ ì‚°ì •
- ë§ˆì¼€íŒ…ë¹„: ì‹œì¥ ì§„ì… ì „ëµ
- ìš´ì˜ë¹„: ì§€ì†ì  ì„œë¹„ìŠ¤ ìš´ì˜

**íˆ¬ì ëŒ€ë¹„ íš¨ê³¼:**
- ROI ì˜ˆìƒì¹˜
- ë¹„ìš© ì ˆê° íš¨ê³¼
- ìˆ˜ìµ ì°½ì¶œ ì ì¬ë ¥

---

*ì´ ë¬¸ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*`;
        }


        // BRD ì¬ìƒì„±
        async function regenerateBRD() {
            document.getElementById('brdContentWrapper').style.display = 'none';
            document.getElementById('brdGenerating').style.display = 'block';
            document.getElementById('brdBadge').textContent = 'ìƒì„± ì¤‘';
            document.getElementById('brdBadge').className = 'document-badge badge-generating';
            
            await generateBRD();
        }

        // BRD ì¬ì‹œë„
        async function retryBRDGeneration() {
            document.getElementById('brdError').style.display = 'none';
            document.getElementById('brdGenerating').style.display = 'block';
            
            await generateBRD();
        }

        // BRD ìŠ¹ì¸ ë° PRD ìƒì„±
        async function approveBRD() {
            projectData.approveDocument('brd');
            projectData.updateStatus('prd_generating');
            updateWorkflowStatus('prd');
            
            // PRD í™”ë©´ìœ¼ë¡œ ì „í™˜
            document.getElementById('brdScreen').classList.remove('active');
            document.getElementById('prdScreen').classList.add('active');
            
            document.getElementById('brdBadge').textContent = 'ìŠ¹ì¸ë¨';
            document.getElementById('brdBadge').className = 'document-badge badge-approved';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // PRD ìƒì„± ì‹œì‘
            await generatePRD();
        }

        // PRD ìƒì„±
        async function generatePRD() {
            try {
                // AI í”„ë¡¬í”„íŠ¸ ìƒì„±
                const prompt = createPRDPrompt();
                
                // ì‹¤ì œ AI API í˜¸ì¶œ (í˜„ì¬ëŠ” ë°ëª¨ ëª¨ë“œ)
                const prdContent = await callAIAPI(prompt, 'PRD');

                projectData.completeDocumentGeneration('prd', prdContent);
                displayPRD(prdContent);

            } catch (error) {
                console.error('PRD ìƒì„± ì˜¤ë¥˜:', error);
                showPRDError(error.message);
            }
        }

        // PRD í”„ë¡¬í”„íŠ¸ ìƒì„±
        function createPRDPrompt() {
            const input = projectData.user_input;
            const brd = projectData.documents.brd.content;
            return `ë‹¹ì‹ ì€ ì œí’ˆ ê´€ë¦¬ ë° ìš”êµ¬ì‚¬í•­ ë¶„ì„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ BRDì™€ ì‚¬ìš©ì ì…ë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ìƒì„¸í•œ Product Requirements Document(PRD)ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

**BRD:**
${brd}

**ì›ë³¸ ì‚¬ìš©ì ì…ë ¥:**
- í•µì‹¬ ì¸ì‚¬ì´íŠ¸: ${input.insight}
- ê²€ì¦ ê·¼ê±°: ${input.evidence}
- íŒ€ ì—­ëŸ‰: ${input.capability}
- ì ˆëŒ€ ì›ì¹™: ${input.principle}
- ì„±ê³µ ì •ì˜: ${input.success_metric}
- í•µì‹¬ ê¸°ëŠ¥: ${input.core_features}

---

**PRD ì‘ì„± ê°€ì´ë“œë¼ì¸:**

## 1. Product Overview
- ì œí’ˆ ë¹„ì „
- ì œí’ˆ ëª©í‘œ
- íƒ€ê²Ÿ ì‚¬ìš©ì

## 2. User Personas
- ì£¼ìš” í˜ë¥´ì†Œë‚˜ (3-4ê°œ)
- ê° í˜ë¥´ì†Œë‚˜ì˜ ë‹ˆì¦ˆì™€ í˜ì¸ í¬ì¸íŠ¸
- ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

## 3. Feature Requirements
ê° ê¸°ëŠ¥ë§ˆë‹¤ ë‹¤ìŒì„ í¬í•¨:
- ê¸°ëŠ¥ ì´ë¦„ ë° ì„¤ëª…
- ìš°ì„ ìˆœìœ„ (P0/P1/P2)
- ì‚¬ìš©ì ìŠ¤í† ë¦¬
- ì¸ìˆ˜ ê¸°ì¤€
- ì˜ì¡´ì„±

## 4. User Stories
- Epicë³„ ì‚¬ìš©ì ìŠ¤í† ë¦¬
- ìŠ¤í† ë¦¬ í¬ì¸íŠ¸
- Definition of Done

## 5. User Experience
- ì£¼ìš” ì‚¬ìš©ì í”Œë¡œìš°
- í™”ë©´ êµ¬ì„± ë° ë ˆì´ì•„ì›ƒ
- ì¸í„°ë™ì…˜ ì„¤ê³„

## 6. Functional Requirements
- ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸
- ì…ë ¥/ì¶œë ¥ ì •ì˜
- ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™

## 7. Non-Functional Requirements
- ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­
- ë³´ì•ˆ ìš”êµ¬ì‚¬í•­
- í™•ì¥ì„± ë° ê°€ìš©ì„±
- ì ‘ê·¼ì„±

## 8. Data Requirements
- ë°ì´í„° ëª¨ë¸
- ë°ì´í„° í”Œë¡œìš°
- ì €ì¥ì†Œ ìš”êµ¬ì‚¬í•­

## 9. Integration Requirements
- ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™
- API ëª…ì„¸
- ë°ì´í„° ë™ê¸°í™”

## 10. Success Metrics
- ê¸°ëŠ¥ë³„ ì„±ê³µ ì§€í‘œ
- ì¸¡ì • ë°©ë²•
- ëª©í‘œê°’

**ì¤‘ìš”:**
- ê°œë°œíŒ€ì´ ë°”ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ë§Œí¼ êµ¬ì²´ì ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”
- ê° ìš”êµ¬ì‚¬í•­ì€ ëª…í™•í•˜ê³  ê²€ì¦ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤
- ìš°ì„ ìˆœìœ„ë¥¼ ëª…í™•íˆ í•˜ì„¸ìš”
- ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”`;
        }

        // ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ PRD ë‚´ìš© ìƒì„±
        function createPRDContent(input) {
            return `# Product Requirements Document

## 1. Product Overview
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸'}ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ì œí’ˆì…ë‹ˆë‹¤. ${input.core_features ? `í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œëŠ” ${input.core_features}ê°€ ìˆìŠµë‹ˆë‹¤.` : 'ì‚¬ìš©ìê°€ ì •ì˜í•œ í•µì‹¬ ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤.'}

## 2. User Personas
**ì£¼ìš” ì‚¬ìš©ì:**
- íƒ€ê²Ÿ ê³ ê°: ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ ì •ì˜
- ì‚¬ìš©ì ë‹ˆì¦ˆ: ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ í•´ê²°'}
- ì‚¬ìš© íŒ¨í„´: ì˜ˆìƒ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

## 3. Feature Requirements
**í•µì‹¬ ê¸°ëŠ¥:**
${input.core_features ? `- ${input.core_features}` : '- ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ê¸°ëŠ¥'}

**ìš°ì„ ìˆœìœ„:**
- P0: í•µì‹¬ ë¬¸ì œ í•´ê²° ê¸°ëŠ¥
- P1: ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ ê¸°ëŠ¥
- P2: ë¶€ê°€ ê°€ì¹˜ ê¸°ëŠ¥

## 4. User Stories
**ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤:**
- ì‚¬ìš©ìëŠ” ${input.insight ? `"${input.insight}"` : 'í•µì‹¬ ë¬¸ì œ'}ë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤
- ì‚¬ìš©ìëŠ” ${input.core_features ? `"${input.core_features}"` : 'í•µì‹¬ ê¸°ëŠ¥'}ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤
- ì‚¬ìš©ìëŠ” ${input.success_metric ? `"${input.success_metric}"` : 'ì„±ê³µ ì§€í‘œ'}ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤

## 5. User Experience
**ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„:**
- ì§ê´€ì ì¸ ì¸í„°í˜ì´ìŠ¤
- ${input.principle ? `"${input.principle}"` : 'ì‚¬ìš©ì ì›ì¹™'} ì¤€ìˆ˜
- íš¨ìœ¨ì ì¸ ì›Œí¬í”Œë¡œìš°

## 6. Functional Requirements
**ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­:**
- í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
- ë°ì´í„° ì²˜ë¦¬ ë° ë¶„ì„
- ì‚¬ìš©ì ì¸í„°ë™ì…˜
- ê²°ê³¼ ì œê³µ ë° í”¼ë“œë°±

## 7. Non-Functional Requirements
**ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­:**
- ì‘ë‹µ ì‹œê°„: 3ì´ˆ ì´ë‚´
- ê°€ìš©ì„±: 99% ì´ìƒ
- í™•ì¥ì„±: ì‚¬ìš©ì ì¦ê°€ ëŒ€ì‘
- ë³´ì•ˆ: ë°ì´í„° ë³´í˜¸

## 8. Data Requirements
**ë°ì´í„° ìš”êµ¬ì‚¬í•­:**
- ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°
- ì²˜ë¦¬ ê²°ê³¼ ë°ì´í„°
- ë¶„ì„ ë°ì´í„°
- íˆìŠ¤í† ë¦¬ ë°ì´í„°

## 9. Integration Requirements
**ì—°ë™ ìš”êµ¬ì‚¬í•­:**
- ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™
- API ì—°ë™
- ë°ì´í„° ë™ê¸°í™”
- ì‹¤ì‹œê°„ ì²˜ë¦¬

## 10. Success Metrics
**ì„±ê³µ ì§€í‘œ:**
${input.success_metric ? `- ${input.success_metric}` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ'}

**ì¸¡ì • ë°©ë²•:**
- ì‚¬ìš©ì í”¼ë“œë°±
- ì‚¬ìš©ëŸ‰ ë¶„ì„
- ì„±ê³¼ ì¸¡ì •
- ì§€ì†ì  ê°œì„ 

---

*ì´ ë¬¸ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*`;
        }

        // PRD í‘œì‹œ
        function displayPRD(content) {
            document.getElementById('prdGenerating').style.display = 'none';
            document.getElementById('prdContentWrapper').style.display = 'block';
            document.getElementById('prdContent').innerHTML = convertMarkdownToHTML(content);
            document.getElementById('prdBadge').textContent = 'ìƒì„± ì™„ë£Œ';
            document.getElementById('prdBadge').className = 'document-badge badge-generated';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // PRD ì˜¤ë¥˜ í‘œì‹œ
        function showPRDError(errorMessage) {
            document.getElementById('prdGenerating').style.display = 'none';
            document.getElementById('prdError').style.display = 'block';
            document.getElementById('prdErrorText').textContent = errorMessage;
        }

        // PRD ì¬ìƒì„±
        async function regeneratePRD() {
            document.getElementById('prdContentWrapper').style.display = 'none';
            document.getElementById('prdGenerating').style.display = 'block';
            document.getElementById('prdBadge').textContent = 'ìƒì„± ì¤‘';
            document.getElementById('prdBadge').className = 'document-badge badge-generating';
            
            await generatePRD();
        }

        // PRD ì¬ì‹œë„
        async function retryPRDGeneration() {
            document.getElementById('prdError').style.display = 'none';
            document.getElementById('prdGenerating').style.display = 'block';
            
            await generatePRD();
        }

        // PRD ìŠ¹ì¸ ë° TRD ìƒì„±
        async function approvePRD() {
            projectData.approveDocument('prd');
            projectData.updateStatus('trd_generating');
            updateWorkflowStatus('trd');
            
            document.getElementById('prdScreen').classList.remove('active');
            document.getElementById('trdScreen').classList.add('active');
            
            document.getElementById('prdBadge').textContent = 'ìŠ¹ì¸ë¨';
            document.getElementById('prdBadge').className = 'document-badge badge-approved';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            await generateTRD();
        }

        // TRD ìƒì„±
        async function generateTRD() {
            try {
                // AI í”„ë¡¬í”„íŠ¸ ìƒì„±
                const prompt = createTRDPrompt();
                
                // ì‹¤ì œ AI API í˜¸ì¶œ (í˜„ì¬ëŠ” ë°ëª¨ ëª¨ë“œ)
                const trdContent = await callAIAPI(prompt, 'TRD');

                projectData.completeDocumentGeneration('trd', trdContent);
                displayTRD(trdContent);

            } catch (error) {
                console.error('TRD ìƒì„± ì˜¤ë¥˜:', error);
                showTRDError(error.message);
            }
        }

        // TRD í”„ë¡¬í”„íŠ¸ ìƒì„±
        function createTRDPrompt() {
            const input = projectData.user_input;
            const brd = projectData.documents.brd.content;
            const prd = projectData.documents.prd.content;
            return `ë‹¹ì‹ ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸ ë° ê¸°ìˆ  ì„¤ê³„ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. BRDì™€ PRDë¥¼ ë°”íƒ•ìœ¼ë¡œ Technical Requirements Document(TRD)ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

**BRD ìš”ì•½:**
${brd.substring(0, 1000)}...

**PRD ìš”ì•½:**
${prd.substring(0, 1000)}...

**íŒ€ ì—­ëŸ‰:**
${input.capability}

---

**TRD ì‘ì„± ê°€ì´ë“œë¼ì¸:**

## 1. Technical Overview
- ê¸°ìˆ  ë¹„ì „
- ì•„í‚¤í…ì²˜ ì›ì¹™
- ê¸°ìˆ  ìŠ¤íƒ ì„ ì • ì´ìœ 

## 2. System Architecture
- ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- ì£¼ìš” ì»´í¬ë„ŒíŠ¸
- ë°ì´í„° í”Œë¡œìš°

## 3. Technology Stack
- Frontend ê¸°ìˆ 
- Backend ê¸°ìˆ 
- ë°ì´í„°ë² ì´ìŠ¤
- ì¸í”„ë¼ ë° DevOps
- ì™¸ë¶€ ì„œë¹„ìŠ¤

## 4. Data Architecture
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- ë°ì´í„° ëª¨ë¸ë§
- ìºì‹± ì „ëµ
- ë°±ì—… ë° ë³µêµ¬

## 5. API Design
- RESTful API ì„¤ê³„
- ì¸ì¦/ì¸ê°€
- Rate limiting
- API ë²„ì „ ê´€ë¦¬

## 6. Security Requirements
- ì¸ì¦ ë° ê¶Œí•œ
- ë°ì´í„° ì•”í˜¸í™”
- ë³´ì•ˆ ì·¨ì•½ì  ëŒ€ì‘
- ì»´í”Œë¼ì´ì–¸ìŠ¤

## 7. Performance Requirements
- ì‘ë‹µ ì‹œê°„ ëª©í‘œ
- ì²˜ë¦¬ëŸ‰ ëª©í‘œ
- ë™ì‹œ ì‚¬ìš©ì ìˆ˜
- ìµœì í™” ì „ëµ

## 8. Scalability & Availability
- í™•ì¥ì„± ì„¤ê³„
- ë¡œë“œ ë°¸ëŸ°ì‹±
- ì¥ì•  ë³µêµ¬
- ëª¨ë‹ˆí„°ë§

## 9. Development Guidelines
- ì½”ë”© ì»¨ë²¤ì…˜
- Git ì›Œí¬í”Œë¡œìš°
- í…ŒìŠ¤íŒ… ì „ëµ
- CI/CD íŒŒì´í”„ë¼ì¸

## 10. Implementation Roadmap
- Phaseë³„ ê¸°ìˆ  êµ¬í˜„ ê³„íš
- ë§ˆì¼ìŠ¤í†¤
- ê¸°ìˆ  ë¶€ì±„ ê´€ë¦¬

**ì¤‘ìš”:**
- ì‹¤ì œ êµ¬í˜„ ê°€ëŠ¥í•œ êµ¬ì²´ì ì¸ ê¸°ìˆ  ìŠ¤í™ì„ ì œì‹œí•˜ì„¸ìš”
- íŒ€ì˜ ì—­ëŸ‰ì„ ê³ ë ¤í•œ í˜„ì‹¤ì ì¸ ê¸°ìˆ  ì„ íƒì„ í•˜ì„¸ìš”
- í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•˜ì„¸ìš”
- ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”`;
        }

        // ì‚¬ìš©ì ì…ë ¥ ê¸°ë°˜ TRD ë‚´ìš© ìƒì„±
        function createTRDContent(input) {
            return `# Technical Requirements Document

## 1. Technical Overview
${input.insight ? `"${input.insight}"` : 'ì‚¬ìš©ì ì •ì˜ í•µì‹¬ ì¸ì‚¬ì´íŠ¸'}ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê¸°ìˆ ì  ì†”ë£¨ì…˜ì…ë‹ˆë‹¤. ${input.capability ? `íŒ€ì˜ ì—­ëŸ‰ì¸ ${input.capability}ì„ í™œìš©í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.` : 'ì‚¬ìš©ì íŒ€ì˜ ì—­ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.'}

## 2. System Architecture
**ì „ì²´ ì•„í‚¤í…ì²˜:**
- **Frontend**: ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- **Backend**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- **Database**: ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬
- **Integration**: ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™

## 3. Technology Stack
**ê¸°ìˆ  ìŠ¤íƒ ì„ íƒ ê¸°ì¤€:**
${input.capability ? `- íŒ€ ì—­ëŸ‰: ${input.capability}` : '- íŒ€ ì—­ëŸ‰ ê¸°ë°˜ ê¸°ìˆ  ì„ íƒ'}

**ê¶Œì¥ ê¸°ìˆ :**
- **Frontend**: React.js, Vue.js, Angular
- **Backend**: Node.js, Python, Java
- **Database**: PostgreSQL, MySQL, MongoDB
- **Infrastructure**: Docker, Kubernetes

## 4. Data Architecture
**ë°ì´í„° ì„¤ê³„:**
- **ì‚¬ìš©ì ë°ì´í„°**: í”„ë¡œí•„ ë° ì„¤ì •
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°**: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- **ë¶„ì„ ë°ì´í„°**: ì„±ê³¼ ë° ì§€í‘œ
- **ë¡œê·¸ ë°ì´í„°**: ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§

## 5. API Design
**API ì„¤ê³„ ì›ì¹™:**
- **RESTful API**: í‘œì¤€ HTTP ë©”ì„œë“œ
- **ì¸ì¦**: JWT ë˜ëŠ” OAuth 2.0
- **Rate Limiting**: ì„œë¹„ìŠ¤ ë³´í˜¸
- **ë²„ì „ ê´€ë¦¬**: API í˜¸í™˜ì„±

## 6. Security Requirements
**ë³´ì•ˆ ìš”êµ¬ì‚¬í•­:**
${input.principle ? `- ${input.principle} ì¤€ìˆ˜` : '- ì‚¬ìš©ì ì •ì˜ ë³´ì•ˆ ì›ì¹™'}

**ë³´ì•ˆ êµ¬í˜„:**
- **ì¸ì¦**: ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ
- **ì•”í˜¸í™”**: ë°ì´í„° ì•”í˜¸í™”
- **HTTPS**: í†µì‹  ë³´ì•ˆ
- **ë°ì´í„° ë³´í˜¸**: ê°œì¸ì •ë³´ ë³´í˜¸

## 7. Performance Requirements
**ì„±ëŠ¥ ëª©í‘œ:**
${input.success_metric ? `- ${input.success_metric} ë‹¬ì„±ì„ ìœ„í•œ ì„±ëŠ¥ ìµœì í™”` : '- ì‚¬ìš©ì ì •ì˜ ì„±ê³µ ì§€í‘œ ë‹¬ì„±'}

**ì„±ëŠ¥ ì§€í‘œ:**
- **ì‘ë‹µ ì‹œê°„**: 3ì´ˆ ì´ë‚´
- **ì²˜ë¦¬ëŸ‰**: ì˜ˆìƒ ì‚¬ìš©ì ìˆ˜ ëŒ€ì‘
- **ê°€ìš©ì„±**: 99% ì´ìƒ
- **í™•ì¥ì„±**: ì‚¬ìš©ì ì¦ê°€ ëŒ€ì‘

## 8. Scalability & Availability
**í™•ì¥ì„± ì„¤ê³„:**
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: íŠ¸ë˜í”½ ë¶„ì‚°
- **ìë™ ìŠ¤ì¼€ì¼ë§**: ë¦¬ì†ŒìŠ¤ ìë™ ì¡°ì •
- **ì¥ì•  ë³µêµ¬**: ê³ ê°€ìš©ì„± ë³´ì¥
- **ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸

## 9. Development Guidelines
**ê°œë°œ ê°€ì´ë“œë¼ì¸:**
- **ì½”ë”© ì»¨ë²¤ì…˜**: íŒ€ í‘œì¤€ ì¤€ìˆ˜
- **Git ì›Œí¬í”Œë¡œìš°**: í˜‘ì—… í”„ë¡œì„¸ìŠ¤
- **í…ŒìŠ¤íŒ…**: í’ˆì§ˆ ë³´ì¦
- **CI/CD**: ìë™í™”ëœ ë°°í¬

## 10. Implementation Roadmap
**êµ¬í˜„ ê³„íš:**
- **Phase 1**: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶• (1-2ê°œì›”)
- **Phase 2**: í•µì‹¬ ê¸°ëŠ¥ ê°œë°œ (2-3ê°œì›”)
- **Phase 3**: í†µí•© ë° í…ŒìŠ¤íŠ¸ (1ê°œì›”)
- **Phase 4**: ì¶œì‹œ ë° ìš´ì˜ (ì§€ì†ì )

**ë§ˆì¼ìŠ¤í†¤:**
- MVP ê°œë°œ ì™„ë£Œ
- ë² íƒ€ í…ŒìŠ¤íŠ¸ ì™„ë£Œ
- ì •ì‹ ì¶œì‹œ
- ìš´ì˜ ì•ˆì •í™”

---

*ì´ ë¬¸ì„œëŠ” ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*
*ìƒì„±ì¼: ${new Date().toLocaleDateString('ko-KR')}*
*í”„ë¡œì íŠ¸ ID: ${projectData.id}*`;
        }

        // TRD í‘œì‹œ
        function displayTRD(content) {
            document.getElementById('trdGenerating').style.display = 'none';
            document.getElementById('trdContentWrapper').style.display = 'block';
            document.getElementById('trdContent').innerHTML = convertMarkdownToHTML(content);
            document.getElementById('trdBadge').textContent = 'ìƒì„± ì™„ë£Œ';
            document.getElementById('trdBadge').className = 'document-badge badge-generated';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // TRD ì˜¤ë¥˜ í‘œì‹œ
        function showTRDError(errorMessage) {
            document.getElementById('trdGenerating').style.display = 'none';
            document.getElementById('trdError').style.display = 'block';
            document.getElementById('trdErrorText').textContent = errorMessage;
        }

        // TRD ì¬ìƒì„±
        async function regenerateTRD() {
            document.getElementById('trdContentWrapper').style.display = 'none';
            document.getElementById('trdGenerating').style.display = 'block';
            document.getElementById('trdBadge').textContent = 'ìƒì„± ì¤‘';
            document.getElementById('trdBadge').className = 'document-badge badge-generating';
            
            await generateTRD();
        }

        // TRD ì¬ì‹œë„
        async function retryTRDGeneration() {
            document.getElementById('trdError').style.display = 'none';
            document.getElementById('trdGenerating').style.display = 'block';
            
            await generateTRD();
        }

        // ë§ˆí¬ë‹¤ìš´ì„ HTMLë¡œ ë³€í™˜ (ê°„ë‹¨í•œ êµ¬í˜„)
        function convertMarkdownToHTML(markdown) {
            let html = markdown;
            
            // í—¤ë”©
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h2>$1</h2>');
            
            // ë³¼ë“œ
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'};
            
            // ì´íƒ¤ë¦­
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            
            // ë¦¬ìŠ¤íŠ¸
            html = html.replace(/^\- (.*$)/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            
            // ì¤„ë°”ê¿ˆ
            html = html.replace(/\n\n/g, '</p><p>');
            html = '<p>' + html + '</p>';
            
            return html;
        }

        // TRD ê±´ë„ˆë›°ê¸°
        function skipToComplete() {
            projectData.updateStatus('completed');
            document.getElementById('prdScreen').classList.remove('active');
            document.getElementById('finalCompletionScreen').classList.add('active');
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // í”„ë¡œì íŠ¸ ì™„ë£Œ
        function completeProject() {
            projectData.approveDocument('trd');
            projectData.updateStatus('completed');
            
            document.getElementById('trdScreen').classList.remove('active');
            document.getElementById('finalCompletionScreen').classList.add('active');
            
            document.getElementById('trdBadge').textContent = 'ìŠ¹ì¸ë¨';
            document.getElementById('trdBadge').className = 'document-badge badge-approved';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            console.log('ğŸ‰ í”„ë¡œì íŠ¸ ì™„ë£Œ!', projectData.getSummary());
        }

        // ë°ëª¨ ë°ì´í„° ìƒì„± (í…ŒìŠ¤íŠ¸ìš©)
        function generateDemoData() {
            const demoBRD = `# Business Requirements Document

## 1. Executive Summary
ì´ í”„ë¡œì íŠ¸ëŠ” AI ê¸°ë°˜ ë¦¬ë·° ê²€ì¦ ì‹œìŠ¤í…œì„ í†µí•´ ì˜¨ë¼ì¸ ì‡¼í•‘ì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

## 2. Business Objectives
- ê°€ì§œ ë¦¬ë·° íƒì§€ìœ¨ 95% ì´ìƒ ë‹¬ì„±
- ì‚¬ìš©ì êµ¬ë§¤ ì „í™˜ìœ¨ 30% í–¥ìƒ
- í”Œë«í¼ ì‹ ë¢°ë„ ì§€ìˆ˜ 4.5/5 ì´ìƒ

## 3. Market Analysis
- ì˜¨ë¼ì¸ ì‡¼í•‘ ì‹œì¥ ê·œëª¨: ì—° 500ì¡°ì›
- ê°€ì§œ ë¦¬ë·°ë¡œ ì¸í•œ ì†ì‹¤: ì—° 50ì¡°ì›
- íƒ€ê²Ÿ ê³ ê°: 20-40ëŒ€ ì˜¨ë¼ì¸ ì‡¼í•‘ ì´ìš©ì

## 4. Problem Statement
í˜„ì¬ ì˜¨ë¼ì¸ ì‡¼í•‘ì—ì„œ ê°€ì§œ ë¦¬ë·°ë¡œ ì¸í•œ ì‹ ë¢°ì„± ë¬¸ì œê°€ ì‹¬ê°í•©ë‹ˆë‹¤.

## 5. Proposed Solution
AI ê¸°ë°˜ ë¦¬ë·° ê²€ì¦ ì‹œìŠ¤í…œì„ í†µí•´ ì‹¤ì œ êµ¬ë§¤ìë§Œì˜ ê²€ì¦ëœ ë¦¬ë·°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## 6. Success Criteria
- ì›”ê°„ í™œì„± ì‚¬ìš©ì 5ë§Œëª…
- ë¦¬ë·° ì‹ ë¢°ë„ í‰ê°€ 4.5/5 ì´ìƒ
- êµ¬ë§¤ ì „í™˜ìœ¨ 30% í–¥ìƒ

## 7. Stakeholders
- ì œí’ˆ ê´€ë¦¬ì
- ê°œë°œíŒ€
- ë§ˆì¼€íŒ…íŒ€
- ê³ ê° ì„œë¹„ìŠ¤íŒ€

## 8. Constraints & Risks
- ê°œë°œ ê¸°ê°„: 6ê°œì›”
- ì˜ˆì‚°: 5ì–µì›
- ê¸°ìˆ ì  ë³µì¡ì„±

## 9. Timeline & Milestones
- 1ë‹¨ê³„: í”„ë¡œí† íƒ€ì… ê°œë°œ (2ê°œì›”)
- 2ë‹¨ê³„: ë² íƒ€ í…ŒìŠ¤íŠ¸ (1ê°œì›”)
- 3ë‹¨ê³„: ì •ì‹ ì¶œì‹œ (3ê°œì›”)

## 10. Budget & Resources
- ê°œë°œë¹„: 3ì–µì›
- ë§ˆì¼€íŒ…ë¹„: 1ì–µì›
- ìš´ì˜ë¹„: 1ì–µì›`;

            const demoPRD = `# Product Requirements Document

## 1. Product Overview
AI ê¸°ë°˜ ë¦¬ë·° ê²€ì¦ ì‹œìŠ¤í…œìœ¼ë¡œ ì˜¨ë¼ì¸ ì‡¼í•‘ì˜ ì‹ ë¢°ì„±ì„ ë†’ì´ëŠ” ì œí’ˆì…ë‹ˆë‹¤.

## 2. User Personas
- **ì£¼ë‹ˆì–´ ì‡¼í•‘ì¡±**: 20-30ëŒ€, ì˜¨ë¼ì¸ ì‡¼í•‘ ë¹ˆë²ˆ
- **ê°€ì¡± ì‡¼í•‘ì¡±**: 30-40ëŒ€, ê°€ì¡±ìš©í’ˆ êµ¬ë§¤
- **í”„ë¦¬ë¯¸ì—„ ì‡¼í•‘ì¡±**: 30-50ëŒ€, ê³ ê°€ ì œí’ˆ êµ¬ë§¤

## 3. Feature Requirements
- **P0**: ë¦¬ë·° ê²€ì¦ ì•Œê³ ë¦¬ì¦˜
- **P0**: êµ¬ë§¤ ì´ë ¥ í™•ì¸
- **P1**: ì‹ ë¢°ë„ ì ìˆ˜ í‘œì‹œ
- **P1**: ê²€ì¦ ë°°ì§€ ì‹œìŠ¤í…œ

## 4. User Stories
- ì‚¬ìš©ìëŠ” êµ¬ë§¤í•œ ì œí’ˆì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤
- ì‚¬ìš©ìëŠ” ë¦¬ë·°ì˜ ì‹ ë¢°ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤
- ì‚¬ìš©ìëŠ” ê²€ì¦ëœ ë¦¬ë·°ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤

## 5. User Experience
- ì§ê´€ì ì¸ ë¦¬ë·° ì‘ì„± ì¸í„°í˜ì´ìŠ¤
- ëª…í™•í•œ ì‹ ë¢°ë„ í‘œì‹œ
- ë¹ ë¥¸ ê²€ì¦ í”„ë¡œì„¸ìŠ¤

## 6. Functional Requirements
- ë¦¬ë·° í…ìŠ¤íŠ¸ ë¶„ì„
- êµ¬ë§¤ ì´ë ¥ ë§¤ì¹­
- ì‹ ë¢°ë„ ì ìˆ˜ ê³„ì‚°
- ê²€ì¦ ë°°ì§€ ë¶€ì—¬

## 7. Non-Functional Requirements
- ì‘ë‹µ ì‹œê°„: 2ì´ˆ ì´ë‚´
- ê°€ìš©ì„±: 99.9%
- ë³´ì•ˆ: ê°œì¸ì •ë³´ ë³´í˜¸

## 8. Data Requirements
- êµ¬ë§¤ ì´ë ¥ ë°ì´í„°
- ë¦¬ë·° í…ìŠ¤íŠ¸ ë°ì´í„°
- ì‚¬ìš©ì í”„ë¡œí•„ ë°ì´í„°

## 9. Integration Requirements
- ì‡¼í•‘ëª° API ì—°ë™
- ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™
- ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ

## 10. Success Metrics
- ë¦¬ë·° ê²€ì¦ ì •í™•ë„: 95%
- ì‚¬ìš©ì ë§Œì¡±ë„: 4.5/5
- ì‹œìŠ¤í…œ ê°€ìš©ì„±: 99.9%`;

            const demoTRD = `# Technical Requirements Document

## 1. Technical Overview
ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ AI ë¦¬ë·° ê²€ì¦ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## 2. System Architecture
- **Frontend**: React.js + TypeScript
- **Backend**: Node.js + Express
- **AI Engine**: Python + TensorFlow
- **Database**: PostgreSQL + Redis

## 3. Technology Stack
- **Frontend**: React, TypeScript, Material-UI
- **Backend**: Node.js, Express, TypeScript
- **AI/ML**: Python, TensorFlow, scikit-learn
- **Database**: PostgreSQL, Redis
- **Infrastructure**: Docker, Kubernetes

## 4. Data Architecture
- **PostgreSQL**: ì‚¬ìš©ì ë°ì´í„°, êµ¬ë§¤ ì´ë ¥
- **Redis**: ì„¸ì…˜, ìºì‹œ
- **MongoDB**: ë¦¬ë·° í…ìŠ¤íŠ¸ ë°ì´í„°
- **S3**: íŒŒì¼ ì €ì¥ì†Œ

## 5. API Design
- **RESTful API**: í‘œì¤€ HTTP ë©”ì„œë“œ
- **ì¸ì¦**: JWT í† í° ê¸°ë°˜
- **Rate Limiting**: 1000 req/min
- **API ë²„ì „**: v1

## 6. Security Requirements
- **ì¸ì¦**: JWT + OAuth 2.0
- **ì•”í˜¸í™”**: AES-256
- **HTTPS**: TLS 1.3
- **ë°ì´í„° ë³´í˜¸**: GDPR ì¤€ìˆ˜

## 7. Performance Requirements
- **ì‘ë‹µ ì‹œê°„**: 2ì´ˆ ì´ë‚´
- **ì²˜ë¦¬ëŸ‰**: 1000 req/sec
- **ë™ì‹œ ì‚¬ìš©ì**: 10,000ëª…
- **ìµœì í™”**: CDN, ìºì‹±

## 8. Scalability & Availability
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: Nginx
- **ìë™ ìŠ¤ì¼€ì¼ë§**: Kubernetes HPA
- **ì¥ì•  ë³µêµ¬**: Multi-AZ ë°°í¬
- **ëª¨ë‹ˆí„°ë§**: Prometheus + Grafana

## 9. Development Guidelines
- **ì½”ë”© ì»¨ë²¤ì…˜**: ESLint + Prettier
- **Git ì›Œí¬í”Œë¡œìš°**: GitFlow
- **í…ŒìŠ¤íŒ…**: Jest + Cypress
- **CI/CD**: GitHub Actions

## 10. Implementation Roadmap
- **Phase 1**: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶• (2ê°œì›”)
- **Phase 2**: AI ëª¨ë¸ ê°œë°œ (2ê°œì›”)
- **Phase 3**: í†µí•© ë° í…ŒìŠ¤íŠ¸ (2ê°œì›”)`;

            // ë°ëª¨ ë°ì´í„°ë¥¼ í”„ë¡œì íŠ¸ì— ì €ì¥
            projectData.completeDocumentGeneration('brd', demoBRD);
            projectData.completeDocumentGeneration('prd', demoPRD);
            projectData.completeDocumentGeneration('trd', demoTRD);
            
            console.log('ğŸ¯ ë°ëª¨ ë°ì´í„° ìƒì„± ì™„ë£Œ!');
            alert('âœ… ë°ëª¨ ë°ì´í„°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì´ì œ PDF ì €ì¥ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ DOM ë¡œë“œ ì™„ë£Œ, ì´ˆê¸°í™” ì‹œì‘');
            
            // ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
            loadSavedData();
            
            // DOM ìš”ì†Œ ì¡´ì¬ í™•ì¸
            const nextBtn = document.getElementById('nextBtn');
            console.log('ğŸ” DOM ìš”ì†Œ í™•ì¸:', {
                nextBtn: !!nextBtn,
                nextBtnId: nextBtn ? nextBtn.id : 'N/A',
                nextBtnDisabled: nextBtn ? nextBtn.disabled : 'N/A'
            });
            
            // ê° textareaì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const fields = ['insight', 'validation', 'capability', 'principle', 'success', 'feature'];
            fields.forEach(fieldId => {
                const textarea = document.getElementById(fieldId);
                if (textarea) {
                    console.log(`ğŸ“ ${fieldId} í•„ë“œì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€`);
                    textarea.addEventListener('input', function() {
                        console.log(`ğŸ”„ ${fieldId} ì…ë ¥ ì´ë²¤íŠ¸ ë°œìƒ`);
                        updateCharCount(fieldId);
                    });
                    textarea.addEventListener('blur', autoSave);
                } else {
                    console.error(`âŒ ${fieldId} í•„ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`);
                }
            });

            // ì´ˆê¸° ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            updateProgress();
            updateNextButton();

            // ê°œë°œì ë„êµ¬ìš© ì „ì—­ í•¨ìˆ˜ ë…¸ì¶œ
            window.projectData = projectData;
            window.resetProject = resetProject;
            window.downloadProjectData = downloadProjectData;
            window.generateDemoData = generateDemoData;
            window.currentStep = currentStep; // ë””ë²„ê¹…ìš© ì „ì—­ ë…¸ì¶œ
            window.forceEnableNext = function() {
                const btn = document.getElementById('nextBtn');
                if (btn) {
                    btn.disabled = false;
                    console.log('ğŸ”§ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”');
                }
            };
            window.testButton = function() {
                console.log('ğŸ§ª ë²„íŠ¼ í…ŒìŠ¤íŠ¸ ì‹œì‘');
                const btn = document.getElementById('nextBtn');
                const field = document.getElementById('insight');
                console.log('ë²„íŠ¼:', btn);
                console.log('í•„ë“œ:', field);
                console.log('í˜„ì¬ ë‹¨ê³„:', currentStep);
                console.log('í˜„ì¬ í•„ë“œ ID:', getCurrentFieldId());
                updateNextButton();
            };
            
            console.log('ğŸ¯ ì œí’ˆ ë¬¸ì„œ ìƒì„± ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ');
            console.log('ğŸ’¡ ê°œë°œì ë„êµ¬ ëª…ë ¹ì–´:');
            console.log('  - projectData: í˜„ì¬ í”„ë¡œì íŠ¸ ë°ì´í„° í™•ì¸');
            console.log('  - projectData.getSummary(): í”„ë¡œì íŠ¸ ìš”ì•½');
            console.log('  - downloadProjectData(): JSON íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°');
            console.log('  - resetProject(): ë°ì´í„° ì´ˆê¸°í™”');
            console.log('  - generateDemoData(): ë°ëª¨ ë°ì´í„° ìƒì„± (PDF í…ŒìŠ¤íŠ¸ìš©)');
        });

        // PDF ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜ë“¤
        function exportBRDtoPDF() {
            downloadAsFile(projectData.documents.brd.content, 'BRD', 'md');
        }

        function exportPRDtoPDF() {
            downloadAsFile(projectData.documents.prd.content, 'PRD', 'md');
        }

        function exportTRDtoPDF() {
            downloadAsFile(projectData.documents.trd.content, 'TRD', 'md');
        }

        function downloadAsFile(content, docType, extension) {
            if (!content || content.trim() === '') {
                alert(`âš ï¸ ${docType} ë¬¸ì„œê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\në¨¼ì € ë¬¸ì„œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.`);
                return;
            }

            const blob = new Blob([content], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `${docType}_${projectData.id}_${Date.now()}.${extension}`;
            link.click();
            URL.revokeObjectURL(url);
            
            console.log(`âœ… ${docType} ë‹¤ìš´ë¡œë“œ ì™„ë£Œ:`, link.download);
        }

        // ë¬¸ì„œ ë³µì‚¬ ê¸°ëŠ¥
        function copyBRD() {
            copyToClipboard(projectData.documents.brd.content, 'BRD');
        }

        function copyPRD() {
            copyToClipboard(projectData.documents.prd.content, 'PRD');
        }

        function copyTRD() {
            copyToClipboard(projectData.documents.trd.content, 'TRD');
        }

        function copyToClipboard(text, docType) {
            if (!text || text.trim() === '') {
                alert(`âš ï¸ ${docType} ë¬¸ì„œê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\në¨¼ì € ë¬¸ì„œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.`);
                return;
            }

            navigator.clipboard.writeText(text).then(() => {
                alert(`âœ“ ${docType}ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!`);
                console.log(`âœ… ${docType} ë³µì‚¬ ì™„ë£Œ`);
            }).catch(err => {
                console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            });
        }

        // ëª¨ë“  ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ
        function downloadAllDocuments() {
            let downloadCount = 0;
            
            // BRD
            if (projectData.documents.brd.status !== 'pending' && projectData.documents.brd.content) {
                downloadAsFile(projectData.documents.brd.content, 'BRD', 'md');
                downloadCount++;
            }
            
            // PRD
            if (projectData.documents.prd.status !== 'pending' && projectData.documents.prd.content) {
                setTimeout(() => {
                    downloadAsFile(projectData.documents.prd.content, 'PRD', 'md');
                }, 300);
                downloadCount++;
            }
            
            // TRD
            if (projectData.documents.trd.status !== 'pending' && projectData.documents.trd.content) {
                setTimeout(() => {
                    downloadAsFile(projectData.documents.trd.content, 'TRD', 'md');
                }, 600);
                downloadCount++;
            }
            
            // í”„ë¡œì íŠ¸ ë°ì´í„° JSON
            setTimeout(() => {
                const dataStr = projectData.exportJSON();
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `project_data_${projectData.id}.json`;
                link.click();
                URL.revokeObjectURL(url);
            }, 900);
            
            if (downloadCount > 0) {
                alert(`ğŸ“¦ ${downloadCount}ê°œ ë¬¸ì„œë¥¼ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤.\n\në‹¤ìš´ë¡œë“œ í´ë”ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.`);
            } else {
                alert('âš ï¸ ë‹¤ìš´ë¡œë“œí•  ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤.\në¨¼ì € ë¬¸ì„œë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.');
            }
        }

        // ìƒˆ í”„ë¡œì íŠ¸ ì‹œì‘
        function startNewProject() {
            if (confirm('ğŸ”„ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ë¡œì»¬ ì €ì¥ì†Œì— ë³´ê´€ë©ë‹ˆë‹¤.')) {
                // í˜„ì¬ í”„ë¡œì íŠ¸ë¥¼ ë°±ì—…
                const backup = projectData.exportJSON();
                localStorage.setItem(`project_backup_${projectData.id}`, backup);
                
                // ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
                projectData = new ProjectData();
                localStorage.setItem('projectData', JSON.stringify(projectData));
                
                // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                location.reload();
            }
        }

        // ë°ì´í„° ì´ˆê¸°í™” í•¨ìˆ˜ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
        function resetProject() {
            if (confirm('âš ï¸ ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.clear();
                projectData = new ProjectData();
                location.reload();
            }
        }

        // ë°ì´í„° ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜ (ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©)
        function downloadProjectData() {
            const dataStr = projectData.exportJSON();
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `project_${projectData.id}_${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);
        }

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                if (!document.getElementById('nextBtn').disabled) {
                    nextStep();
                }
            }
            
            // ê°œë°œì ë‹¨ì¶•í‚¤: Ctrl+Shift+Dë¡œ ë°ì´í„° ë‹¤ìš´ë¡œë“œ
            if (e.ctrlKey && e.shiftKey && e.key === 'D') {
                e.preventDefault();
                downloadProjectData();
            }
            
            // ê°œë°œì ë‹¨ì¶•í‚¤: Ctrl+Shift+Rë¡œ ë°ì´í„° ë¦¬ì…‹
            if (e.ctrlKey && e.shiftKey && e.key === 'R') {
                e.preventDefault();
                resetProject();
            }
        });
    </script>
</body>
</html>
